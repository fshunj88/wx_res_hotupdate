{"version":3,"sources":["../../../../../assets/Script/src/assets/Script/src/GameLogic.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","pop","length","push","Core","DeviceUtils","isHtml5","cc","sys","isBrowser","isNative","isMiniGame","platform","WECHAT_GAME","isWXGame","isQQPlay","isTTGame","isMobile","isPC","isAndroid","os","OS_ANDROID","isiOS","OS_IOS","isOSX","OS_OSX","Collection","_hasOwnProperty","has","obj","prop","defaultCompare","a","defaultEquals","defaultToString","item","isUndefined","isString","toString","makeString","join","String","Number","toret","first","isFunction","func","reverseCompareFunction","compareFunction","compareToEquals","indexOf","array","equalsFunction","equals","i","lastIndexOf","contains","remove","index","splice","frequency","freq","array1","array2","copy","concat","swap","j","temp","forEach","callback","ele","undefined","_i","array_1","defaultDictionaryToString","Dictionary","toStrFunction","table","nElements","toStr","getValue","key","pair","setValue","ret","k","previousElement","keys","name","values","containsKey","clear","size","isEmpty","LinkedDictionaryPair","unlink","prev","HeadOrTailLinkedDictionaryPair","isHeadOrTailLinkedDictionaryPair","LinkedDictionary","_super","_this","head","tail","appendToTail","entry","lastNode","getLinkedDictionaryPair","replace","oldPair","newPair","existingPair","crawlNode","Entry","List","toStringFunc","_head","_objMap","_insert","oldElem","_remove","elem","after","pushFront","before","getFront","popFront","getBack","popBack","getNext","getPrev","reverse","headNext","headPrev","defineProperty","get","enumerable","configurable","LruCache","onDestroyFunc","_size","_maxSize","_keyToObj","_toStr","_onDestroy","_lruList","use","_tidy","cnt","destroy","MultiDictionary","valuesEqualsFunction","allowDuplicateValues","dict","equalsF","allowDuplicate","values_1","_a","v_1","w","Queue","items","enqueue","data","dequeue","shift","toArray","Set","toStringFunction","dictionary","element","add","intersection","otherSet","set","union","difference","isSubsetOf","isSub","HotUpdate","HOT_UPDATE_URL_ROOT","MINIGAME_VERSION_API_URL","MINIGAME_RES_URL_ROOT","compareVersion","v1","v2","console","log","version1","split","version2","len","_v1","parseInt","_v2","OpRet","_errcode2Msg","isSuccess","errcode","CheckVersionRet","arguments","remoteApkVersion","errorMessage","MiniGameCheckVersionRet","FetchPatchRet","DownloadPatchRet","ApkUpdateRet","HotUpdateObserver","ApkUpdateObserver","DownloadSettingRet","MiniGameHotUpdateMgr","_localVersion","_observer","_buildType","_subType","REMOTE_SERVER_ROOT","_serverlist","_fs","WXGame","WXFileSystem","inst","Error","miniGameVersionInfo","cachedVersion","_getVersionFromCache","_cachedVerCompareToPackVerRet","_inst","_saveVersionToCache","localVersionStr","localStorage","getItem","localVersion","JSON","parse","setItem","stringify","hotUpdate","remoteVerCompareToLocalVerRet","ret1","ret2","settingStr","settings","_checkVersion","serverlist","remoteVersion","_downloadJsonZip","_downloadSettingFile","onDownloadDone","_initAssetLibrary","success","reason","_loadSettingsFromCached","registerObserver","ob","onCheckVersion","url","xmlReq","loader","getXMLHttpRequest","open","responseType","setRequestHeader","onreadystatechange","readyState","ret_1","status","response","responseText","code","onload","ontimeout","onerror","send","onCheckVersionDone","settingsStr","xhrLoad","catch","error","writeFile","fileName","self","downloadRet","loadRemoteImportZipFile","res","onDownloadProgress","totalBytesWritten","totalBytesExpectedToWrite","readFile","debug","uuids","rawAssets","assetTypes","realRawAssets","rawAssetKeys","rawAssetKeys_1","mount","entries","realEntries","_b","id","type","_id","packedAssets","packedAssetsKeys","_c","packedAssetsKeys_1","packId","packedIds","scenes","scene","uuid","r","md5AssetsMap","s","subpackages","subId","uuidArray","l","options","libraryPath","rawAssetsBase","md5Pipe","removePipe","AssetLibrary","init","MiniGameHotUpdate","updateLoadingHint","hint","window","checkMiniGamePackageUpdate","namespace","wx","tt","getUpdateManager","updateManager","resolveCheck","onCheckForUpdate","hasUpdate","onUpdateReady","showModal","title","content","showCancel","confirm","applyUpdate","fail","onUpdateFailed","nativeVersionInfo","enterMain","CocosWXDownloader","initLoaders","Test","run","main","start","update","TestHotUpdate","btn","find","on","Node","EventType","TOUCH_END","testHotUpdate","test2_new","test2","setTimeout","message","onFetchPatchUri","onFetchPatchUriDone","onDownload","current","total","onUnzipProgress","test1","loadRes","SpriteFrame","err","spriteFrame","spriteNode","sprite","addComponent","Sprite","sf","t2d","getComponent","getTexture","release","removeComponent","TestMiniGame","rootDir","env","USER_DATA_PATH","testCreateDir","testListDir","isDirOrFileExist","testRmDirRecursive","testUnlinkFile","testWriteFile","testAccessDirAndRead","testDownloadFile","unzipFile","testFileExistAndRead","FileSystemManager","getFileSystemManager","filePath","encoding","info","errMsg","complete","path","fs","readdir","dirPath","files","access","dirOrFile","dirName","mkdir","option","recursive","rmdir","statusCode","_tempFilePath","tempFilePath","downloadFile","testSaveFile","saveFile","unzip","zipFilePath","targetPath","errCode","testMiniGame","load204Card","Texture2D","tex2d","test3","_NO_VERSION","_downloadFailRetryCnt","qq","_dirCache","_fsRoot","_fsCacheFile","_fsCachePathInfo","_dirty","_saving","_mkdirPromise","_isNewDownloader","startSaveFileHeartbeat","_savePathFile","str","deleteAllCache","dirExists","deleteCache","exitGame","exitMiniProgram","restartGame","restartMiniProgram","deleteImportJsonCache","initFilePathInfos","infoStr","setFileLocalPath","rawUrl","extName","oldPath","getItemUuid","extname","isRemotePath","getLocalFilePath","getWXFilePath","getFileVersion","arr","fileNames","mainFileName","itemExistsInCache","localPath","dir","withRootDir","dirname","promise","mkdirs","dirs","_downloadFile","retryCnt","target","progressCb","task","onProgressUpdate","download","srcUrl","_xhrLoad","xhrURL","isText","xhr","XMLHttpRequest","finalRet","res2","loadRemoteRawAssetsZipFile","isNewDownloader","non_text_format","binary_format","REGEX","async","pipeline","SUBCONTEXT_ROOT","initHandlers","pipeBeforeDownloader","wxDownloader","insertPipeAfter","nextPipe","queue","LoadingItems","getQueue","addListener","handle","Pipeline","Downloader","PackDownloader","load","wxFs","readTextFile","readFileFromLocal","fsRoot","handleItem","downloadRemoteFile","ensureDirFor","ensureDir","relatUrl","test","remoteUrl","uuid_1","uncachedFileUuids","savedFilePath","encodingFormat","endsWith","states","downloader","ItemState","COMPLETE"],"mappings":"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","file":"GameLogic.js","sourceRoot":"../../../../../assets/Script/src","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar Core;\n(function (Core) {\n    var DeviceUtils = (function () {\n        function DeviceUtils() {\n        }\n        DeviceUtils.isHtml5 = function () {\n            return cc.sys.isBrowser;\n        };\n        DeviceUtils.isNative = function () {\n            return cc.sys.isNative;\n        };\n        DeviceUtils.isMiniGame = function () {\n            return cc.sys.platform == cc.sys.WECHAT_GAME;\n        };\n        DeviceUtils.isWXGame = function () {\n            return cc.sys.platform == cc.sys.WECHAT_GAME && !DeviceUtils.isQQPlay() && !DeviceUtils.isTTGame();\n        };\n        DeviceUtils.isQQPlay = function () {\n            return false;\n        };\n        DeviceUtils.isTTGame = function () {\n            return false;\n        };\n        DeviceUtils.isMobile = function () {\n            return cc.sys.isMobile;\n        };\n        DeviceUtils.isPC = function () {\n            return !cc.sys.isMobile;\n        };\n        DeviceUtils.isAndroid = function () {\n            return cc.sys.os == cc.sys.OS_ANDROID;\n        };\n        DeviceUtils.isiOS = function () {\n            return cc.sys.os == cc.sys.OS_IOS;\n        };\n        DeviceUtils.isOSX = function () {\n            return cc.sys.os == cc.sys.OS_OSX;\n        };\n        return DeviceUtils;\n    }());\n    Core.DeviceUtils = DeviceUtils;\n})(Core || (Core = {}));\nvar Collection;\n(function (Collection) {\n    var _hasOwnProperty = Object.prototype.hasOwnProperty;\n    Collection.has = function (obj, prop) {\n        return _hasOwnProperty.call(obj, prop);\n    };\n    function defaultCompare(a, b) {\n        if (a < b) {\n            return -1;\n        }\n        else if (a === b) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    }\n    Collection.defaultCompare = defaultCompare;\n    function defaultEquals(a, b) {\n        return a === b;\n    }\n    Collection.defaultEquals = defaultEquals;\n    function defaultToString(item) {\n        if (item === null) {\n            return 'COLLECTION_NULL';\n        }\n        else if (isUndefined(item)) {\n            return 'COLLECTION_UNDEFINED';\n        }\n        else if (isString(item)) {\n            return '$s' + item;\n        }\n        else {\n            return '$o' + item.toString();\n        }\n    }\n    Collection.defaultToString = defaultToString;\n    function makeString(item, join) {\n        if (join === void 0) { join = ','; }\n        if (item === null) {\n            return 'COLLECTION_NULL';\n        }\n        else if (isUndefined(item)) {\n            return 'COLLECTION_UNDEFINED';\n        }\n        else if (item instanceof String || item instanceof Number) {\n            return item.toString();\n        }\n        else {\n            var toret = '{';\n            var first = true;\n            for (var prop in item) {\n                if (Collection.has(item, prop)) {\n                    if (first) {\n                        first = false;\n                    }\n                    else {\n                        toret = toret + join;\n                    }\n                    toret = toret + prop + ':' + item[prop];\n                }\n            }\n            return toret + '}';\n        }\n    }\n    Collection.makeString = makeString;\n    function isFunction(func) {\n        return (typeof func) === 'function';\n    }\n    Collection.isFunction = isFunction;\n    function isUndefined(obj) {\n        return (typeof obj) === 'undefined';\n    }\n    Collection.isUndefined = isUndefined;\n    function isString(obj) {\n        return Object.prototype.toString.call(obj) === '[object String]';\n    }\n    Collection.isString = isString;\n    function reverseCompareFunction(compareFunction) {\n        if (isUndefined(compareFunction) || !isFunction(compareFunction)) {\n            return function (a, b) {\n                if (a < b) {\n                    return 1;\n                }\n                else if (a === b) {\n                    return 0;\n                }\n                else {\n                    return -1;\n                }\n            };\n        }\n        else {\n            return function (d, v) {\n                return compareFunction(d, v) * -1;\n            };\n        }\n    }\n    Collection.reverseCompareFunction = reverseCompareFunction;\n    function compareToEquals(compareFunction) {\n        return function (a, b) {\n            return compareFunction(a, b) === 0;\n        };\n    }\n    Collection.compareToEquals = compareToEquals;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    function indexOf(array, item, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        var length = array.length;\n        var i = 0;\n        for (; i < length; i++) {\n            if (equals(array[i], item)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    Collection.indexOf = indexOf;\n    function lastIndexOf(array, item, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        var length = array.length;\n        var i = length - 1;\n        for (; i >= 0; i--) {\n            if (equals(array[i], item)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    Collection.lastIndexOf = lastIndexOf;\n    function contains(array, item, equalsFunction) {\n        return indexOf(array, item, equalsFunction) >= 0;\n    }\n    Collection.contains = contains;\n    function remove(array, item, equalsFunction) {\n        var index = indexOf(array, item, equalsFunction);\n        if (index < 0) {\n            return false;\n        }\n        array.splice(index, 1);\n        return true;\n    }\n    Collection.remove = remove;\n    function frequency(array, item, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        var length = array.length;\n        var freq = 0;\n        var i = 0;\n        for (; i < length; i++) {\n            if (equals(array[i], item)) {\n                freq++;\n            }\n        }\n        return freq;\n    }\n    Collection.frequency = frequency;\n    function equals(array1, array2, equalsFunction) {\n        var equals = equalsFunction || Collection.defaultEquals;\n        if (array1.length !== array2.length) {\n            return false;\n        }\n        var length = array1.length;\n        var i = 0;\n        for (; i < length; i++) {\n            if (!equals(array1[i], array2[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    Collection.equals = equals;\n    function copy(array) {\n        return array.concat();\n    }\n    Collection.copy = copy;\n    function swap(array, i, j) {\n        if (i < 0 || i >= array.length || j < 0 || j >= array.length) {\n            return false;\n        }\n        var temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n        return true;\n    }\n    Collection.swap = swap;\n    function toString(array) {\n        return '[' + array.toString() + ']';\n    }\n    Collection.toString = toString;\n    function forEach(array, callback) {\n        var ele = undefined;\n        for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {\n            ele = array_1[_i];\n            if (callback(ele) === false) {\n                return;\n            }\n        }\n    }\n    Collection.forEach = forEach;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    function defaultDictionaryToString(item) {\n        if (item === null) {\n            return 'COLLECTION_NULL';\n        }\n        else if (Collection.isUndefined(item)) {\n            return 'COLLECTION_UNDEFINED';\n        }\n        else if (Collection.isString(item)) {\n            return '$s' + item;\n        }\n        else {\n            return '$o' + item.toString();\n        }\n    }\n    Collection.defaultDictionaryToString = defaultDictionaryToString;\n    var Dictionary = (function () {\n        function Dictionary(toStrFunction) {\n            this.table = {};\n            this.nElements = 0;\n            this.toStr = toStrFunction || defaultDictionaryToString;\n        }\n        Dictionary.prototype.getValue = function (key) {\n            var pair = this.table['$' + this.toStr(key)];\n            if (Collection.isUndefined(pair)) {\n                return undefined;\n            }\n            return pair.value;\n        };\n        Dictionary.prototype.setValue = function (key, value) {\n            if (Collection.isUndefined(key) || Collection.isUndefined(value)) {\n                return undefined;\n            }\n            var ret;\n            var k = '$' + this.toStr(key);\n            var previousElement = this.table[k];\n            if (Collection.isUndefined(previousElement)) {\n                this.nElements++;\n                ret = undefined;\n            }\n            else {\n                ret = previousElement.value;\n            }\n            this.table[k] = {\n                key: key,\n                value: value\n            };\n            return ret;\n        };\n        Dictionary.prototype.remove = function (key) {\n            var k = '$' + this.toStr(key);\n            var previousElement = this.table[k];\n            if (!Collection.isUndefined(previousElement)) {\n                this.table[k] = undefined;\n                this.nElements--;\n                delete this.table[k];\n                return previousElement.value;\n            }\n            return undefined;\n        };\n        Dictionary.prototype.keys = function () {\n            var array = [];\n            var name = undefined;\n            for (name in this.table) {\n                if (Collection.has(this.table, name)) {\n                    var pair = this.table[name];\n                    if (pair !== undefined) {\n                        array.push(pair.key);\n                    }\n                }\n            }\n            return array;\n        };\n        Dictionary.prototype.values = function () {\n            var array = [];\n            var name = undefined;\n            for (name in this.table) {\n                if (Collection.has(this.table, name)) {\n                    var pair = this.table[name];\n                    if (pair !== undefined) {\n                        array.push(pair.value);\n                    }\n                }\n            }\n            return array;\n        };\n        Dictionary.prototype.forEach = function (callback) {\n            var name = undefined;\n            for (name in this.table) {\n                if (Collection.has(this.table, name)) {\n                    if (this.table[name] == undefined) {\n                        continue;\n                    }\n                    var pair = this.table[name];\n                    var ret = callback(pair.key, pair.value);\n                    if (ret === false) {\n                        return;\n                    }\n                }\n            }\n        };\n        Dictionary.prototype.containsKey = function (key) {\n            return !Collection.isUndefined(this.getValue(key));\n        };\n        Dictionary.prototype.clear = function () {\n            this.table = {};\n            this.nElements = 0;\n        };\n        Dictionary.prototype.size = function () {\n            return this.nElements;\n        };\n        Dictionary.prototype.isEmpty = function () {\n            return this.nElements <= 0;\n        };\n        Dictionary.prototype.toString = function () {\n            var toret = '{';\n            this.forEach(function (k, v) {\n                toret += \"\\n\\t\" + k + \" : \" + v;\n            });\n            return toret + '\\n}';\n        };\n        return Dictionary;\n    }());\n    Collection.Dictionary = Dictionary;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var LinkedDictionaryPair = (function () {\n        function LinkedDictionaryPair(key, value) {\n            this.key = key;\n            this.value = value;\n        }\n        LinkedDictionaryPair.prototype.unlink = function () {\n            this.prev.next = this.next;\n            this.next.prev = this.prev;\n        };\n        return LinkedDictionaryPair;\n    }());\n    var HeadOrTailLinkedDictionaryPair = (function () {\n        function HeadOrTailLinkedDictionaryPair() {\n            this.key = null;\n            this.value = null;\n        }\n        HeadOrTailLinkedDictionaryPair.prototype.unlink = function () {\n            this.prev.next = this.next;\n            this.next.prev = this.prev;\n        };\n        return HeadOrTailLinkedDictionaryPair;\n    }());\n    function isHeadOrTailLinkedDictionaryPair(p) {\n        return p.next === null;\n    }\n    var LinkedDictionary = (function (_super) {\n        __extends(LinkedDictionary, _super);\n        function LinkedDictionary(toStrFunction) {\n            var _this = _super.call(this, toStrFunction) || this;\n            _this.head = new HeadOrTailLinkedDictionaryPair();\n            _this.tail = new HeadOrTailLinkedDictionaryPair();\n            _this.head.next = _this.tail;\n            _this.tail.prev = _this.head;\n            return _this;\n        }\n        LinkedDictionary.prototype.appendToTail = function (entry) {\n            var lastNode = this.tail.prev;\n            lastNode.next = entry;\n            entry.prev = lastNode;\n            entry.next = this.tail;\n            this.tail.prev = entry;\n        };\n        LinkedDictionary.prototype.getLinkedDictionaryPair = function (key) {\n            if (Collection.isUndefined(key)) {\n                return undefined;\n            }\n            var k = '$' + this.toStr(key);\n            var pair = (this.table[k]);\n            return pair;\n        };\n        LinkedDictionary.prototype.getValue = function (key) {\n            var pair = this.getLinkedDictionaryPair(key);\n            if (!Collection.isUndefined(pair)) {\n                return pair.value;\n            }\n            return undefined;\n        };\n        LinkedDictionary.prototype.remove = function (key) {\n            var pair = this.getLinkedDictionaryPair(key);\n            if (!Collection.isUndefined(pair)) {\n                _super.prototype.remove.call(this, key);\n                pair.unlink();\n                return pair.value;\n            }\n            return undefined;\n        };\n        LinkedDictionary.prototype.clear = function () {\n            _super.prototype.clear.call(this);\n            this.head.next = this.tail;\n            this.tail.prev = this.head;\n        };\n        LinkedDictionary.prototype.replace = function (oldPair, newPair) {\n            var k = '$' + this.toStr(newPair.key);\n            newPair.next = oldPair.next;\n            newPair.prev = oldPair.prev;\n            this.remove(oldPair.key);\n            newPair.prev.next = newPair;\n            newPair.next.prev = newPair;\n            this.table[k] = newPair;\n            ++this.nElements;\n        };\n        LinkedDictionary.prototype.setValue = function (key, value) {\n            if (Collection.isUndefined(key) || Collection.isUndefined(value)) {\n                return undefined;\n            }\n            var existingPair = this.getLinkedDictionaryPair(key);\n            var newPair = new LinkedDictionaryPair(key, value);\n            var k = '$' + this.toStr(key);\n            if (!Collection.isUndefined(existingPair)) {\n                this.replace(existingPair, newPair);\n                return existingPair.value;\n            }\n            else {\n                this.appendToTail(newPair);\n                this.table[k] = newPair;\n                ++this.nElements;\n                return undefined;\n            }\n        };\n        LinkedDictionary.prototype.keys = function () {\n            var array = [];\n            this.forEach(function (key, value) {\n                array.push(key);\n            });\n            return array;\n        };\n        LinkedDictionary.prototype.values = function () {\n            var array = [];\n            this.forEach(function (key, value) {\n                array.push(value);\n            });\n            return array;\n        };\n        LinkedDictionary.prototype.forEach = function (callback) {\n            var crawlNode = this.head.next;\n            while (!isHeadOrTailLinkedDictionaryPair(crawlNode)) {\n                var ret = callback(crawlNode.key, crawlNode.value);\n                if (ret === false) {\n                    return;\n                }\n                crawlNode = crawlNode.next;\n            }\n        };\n        return LinkedDictionary;\n    }(Collection.Dictionary));\n    Collection.LinkedDictionary = LinkedDictionary;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var Entry = (function () {\n        function Entry() {\n            this.prev = null;\n            this.next = null;\n            this.obj = null;\n        }\n        return Entry;\n    }());\n    var List = (function () {\n        function List(toStringFunc) {\n            this._head = new Entry();\n            this._head.prev = this._head;\n            this._head.next = this._head;\n            this._objMap = new Collection.Dictionary(toStringFunc);\n        }\n        List.prototype._insert = function (obj, prev, next) {\n            if (this._objMap.containsKey(obj)) {\n                if (obj == prev.obj || obj == next.obj) {\n                    return;\n                }\n                var oldElem = this._objMap.getValue(obj);\n                this._remove(oldElem);\n            }\n            var elem = new Entry();\n            elem.obj = obj;\n            this._objMap.setValue(obj, elem);\n            elem.prev = prev;\n            elem.next = next;\n            next.prev = elem;\n            prev.next = elem;\n        };\n        List.prototype._remove = function (elem) {\n            elem.next.prev = elem.prev;\n            elem.prev.next = elem.next;\n            this._objMap.remove(elem.obj);\n        };\n        List.prototype.push = function (obj, after) {\n            var entry = null;\n            if (after) {\n                entry = this._objMap.getValue(after);\n            }\n            if (!entry) {\n                entry = this._head.prev;\n            }\n            this._insert(obj, entry, entry.next);\n        };\n        List.prototype.pushFront = function (obj, before) {\n            var entry = null;\n            if (before) {\n                entry = this._objMap.getValue(before);\n            }\n            if (!entry) {\n                entry = this._head.next;\n            }\n            this._insert(obj, entry.prev, entry);\n        };\n        List.prototype.isEmpty = function () {\n            return this._head.next == this._head || this._head.prev == this._head;\n        };\n        List.prototype.getFront = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            return this._head.next.obj;\n        };\n        List.prototype.popFront = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            var elem = this._head.next;\n            this._remove(elem);\n            return elem.obj;\n        };\n        List.prototype.getBack = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            return this._head.prev.obj;\n        };\n        List.prototype.popBack = function () {\n            if (this.isEmpty()) {\n                return null;\n            }\n            var elem = this._head.prev;\n            this._remove(elem);\n            return elem.obj;\n        };\n        List.prototype.getNext = function (obj) {\n            var elem = this._objMap.getValue(obj);\n            return elem.next.obj;\n        };\n        List.prototype.getPrev = function (obj) {\n            var elem = this._objMap.getValue(obj);\n            return elem.prev.obj;\n        };\n        List.prototype.reverse = function () {\n            for (var entry = this._head.next; entry != this._head;) {\n                var n = entry.next;\n                entry.next = entry.prev;\n                entry.prev = n;\n                entry = n;\n            }\n            var headNext = this._head.next;\n            var headPrev = this._head.prev;\n            this._head.next = headPrev;\n            this._head.prev = headNext;\n        };\n        List.prototype.remove = function (obj) {\n            var elem = this._objMap.getValue(obj);\n            if (elem) {\n                this._remove(elem);\n            }\n        };\n        List.prototype.forEach = function (func, reverse) {\n            if (reverse === void 0) { reverse = false; }\n            if (reverse) {\n                for (var entry = this._head.prev; entry != this._head; entry = entry.prev) {\n                    func(entry.obj);\n                }\n            }\n            else {\n                for (var entry = this._head.next; entry != this._head; entry = entry.next) {\n                    func(entry.obj);\n                }\n            }\n        };\n        Object.defineProperty(List.prototype, \"length\", {\n            get: function () {\n                return this._objMap.keys().length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        List.prototype.clear = function () {\n            this._head.next = this._head;\n            this._head.prev = this._head;\n            this._objMap.clear();\n        };\n        return List;\n    }());\n    Collection.List = List;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var LruCache = (function () {\n        function LruCache(size, toStringFunc, onDestroyFunc) {\n            this._size = 0;\n            this._maxSize = 1;\n            this._keyToObj = {};\n            this._maxSize = size;\n            this._toStr = toStringFunc;\n            this._onDestroy = onDestroyFunc;\n            this._lruList = new Collection.List(toStringFunc);\n        }\n        LruCache.prototype.get = function (k) {\n            return this._keyToObj[k];\n        };\n        LruCache.prototype.use = function (obj) {\n            this._lruList.pushFront(obj);\n            var key = this._toStr(obj);\n            if (!this._keyToObj[key]) {\n                this._keyToObj[key] = obj;\n                this._size++;\n                if (this._size > this._maxSize) {\n                    this._tidy(this._size - this._maxSize);\n                }\n            }\n        };\n        LruCache.prototype._tidy = function (cnt) {\n            for (var i = 0; i < cnt; ++i) {\n                var obj = this._lruList.popBack();\n                if (obj) {\n                    this._onDestroy(obj);\n                    delete this._keyToObj[this._toStr(obj)];\n                    this._size--;\n                }\n            }\n        };\n        LruCache.prototype.clear = function (destroy) {\n            var _this = this;\n            if (destroy === void 0) { destroy = false; }\n            this._size = 0;\n            this._keyToObj = {};\n            if (destroy) {\n                this._lruList.forEach(function (obj) {\n                    _this._onDestroy(obj);\n                });\n            }\n            this._lruList.clear();\n        };\n        return LruCache;\n    }());\n    Collection.LruCache = LruCache;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var MultiDictionary = (function () {\n        function MultiDictionary(toStrFunction, valuesEqualsFunction, allowDuplicateValues) {\n            if (allowDuplicateValues === void 0) { allowDuplicateValues = false; }\n            this.dict = new Collection.Dictionary(toStrFunction);\n            this.equalsF = valuesEqualsFunction || Collection.defaultEquals;\n            this.allowDuplicate = allowDuplicateValues;\n        }\n        MultiDictionary.prototype.getValue = function (key) {\n            var values = this.dict.getValue(key);\n            if (Collection.isUndefined(values)) {\n                return [];\n            }\n            return Collection.copy(values);\n        };\n        MultiDictionary.prototype.setValue = function (key, value) {\n            if (Collection.isUndefined(key) || Collection.isUndefined(value)) {\n                return false;\n            }\n            var array = this.dict.getValue(key);\n            if (Collection.isUndefined(array)) {\n                this.dict.setValue(key, [value]);\n                return true;\n            }\n            if (!this.allowDuplicate) {\n                if (Collection.contains(array, value, this.equalsF)) {\n                    return false;\n                }\n            }\n            array.push(value);\n            return true;\n        };\n        MultiDictionary.prototype.remove = function (key, value) {\n            if (Collection.isUndefined(value)) {\n                var v = this.dict.remove(key);\n                return !Collection.isUndefined(v);\n            }\n            var array = this.dict.getValue(key);\n            if (!Collection.isUndefined(array) && Collection.remove(array, value, this.equalsF)) {\n                if (array.length === 0) {\n                    this.dict.remove(key);\n                }\n                return true;\n            }\n            return false;\n        };\n        MultiDictionary.prototype.keys = function () {\n            return this.dict.keys();\n        };\n        MultiDictionary.prototype.values = function () {\n            var values = this.dict.values();\n            var array = [];\n            for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n                var v = values_1[_i];\n                for (var _a = 0, v_1 = v; _a < v_1.length; _a++) {\n                    var w = v_1[_a];\n                    array.push(w);\n                }\n            }\n            return array;\n        };\n        MultiDictionary.prototype.containsKey = function (key) {\n            return this.dict.containsKey(key);\n        };\n        MultiDictionary.prototype.clear = function () {\n            this.dict.clear();\n        };\n        MultiDictionary.prototype.size = function () {\n            return this.dict.size();\n        };\n        MultiDictionary.prototype.isEmpty = function () {\n            return this.dict.isEmpty();\n        };\n        return MultiDictionary;\n    }());\n    Collection.MultiDictionary = MultiDictionary;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var Queue = (function () {\n        function Queue() {\n            this.items = null;\n            this.items = new Array();\n        }\n        Queue.prototype.enqueue = function (data) {\n            this.items.push(data);\n        };\n        Queue.prototype.dequeue = function () {\n            return this.items.shift();\n        };\n        Queue.prototype.head = function () {\n            return this.items[0];\n        };\n        Queue.prototype.size = function () {\n            return this.items.length;\n        };\n        Queue.prototype.clear = function () {\n            this.items = new Array();\n        };\n        Queue.prototype.isEmpty = function () {\n            return this.items.length === 0;\n        };\n        Queue.prototype.tail = function () {\n            return this.items[this.items.length - 1];\n        };\n        Queue.prototype.toArray = function () {\n            return this.items;\n        };\n        return Queue;\n    }());\n    Collection.Queue = Queue;\n})(Collection || (Collection = {}));\nvar Collection;\n(function (Collection) {\n    var Set = (function () {\n        function Set(toStringFunction) {\n            this.dictionary = new Collection.Dictionary(toStringFunction);\n        }\n        Set.prototype.contains = function (element) {\n            return this.dictionary.containsKey(element);\n        };\n        Set.prototype.add = function (element) {\n            if (this.contains(element) || Collection.isUndefined(element)) {\n                return false;\n            }\n            else {\n                this.dictionary.setValue(element, element);\n                return true;\n            }\n        };\n        Set.prototype.intersection = function (otherSet) {\n            var set = this;\n            this.forEach(function (element) {\n                if (!otherSet.contains(element)) {\n                    set.remove(element);\n                }\n                return true;\n            });\n        };\n        Set.prototype.union = function (otherSet) {\n            var set = this;\n            otherSet.forEach(function (element) {\n                set.add(element);\n                return true;\n            });\n        };\n        Set.prototype.difference = function (otherSet) {\n            var set = this;\n            otherSet.forEach(function (element) {\n                set.remove(element);\n                return true;\n            });\n        };\n        Set.prototype.isSubsetOf = function (otherSet) {\n            if (this.size() > otherSet.size()) {\n                return false;\n            }\n            var isSub = true;\n            this.forEach(function (element) {\n                if (!otherSet.contains(element)) {\n                    isSub = false;\n                    return false;\n                }\n                return true;\n            });\n            return isSub;\n        };\n        Set.prototype.remove = function (element) {\n            if (!this.contains(element)) {\n                return false;\n            }\n            else {\n                this.dictionary.remove(element);\n                return true;\n            }\n        };\n        Set.prototype.forEach = function (callback) {\n            this.dictionary.forEach(function (k, v) {\n                return callback(v);\n            });\n        };\n        Set.prototype.toArray = function () {\n            return this.dictionary.values();\n        };\n        Set.prototype.isEmpty = function () {\n            return this.dictionary.isEmpty();\n        };\n        Set.prototype.size = function () {\n            return this.dictionary.size();\n        };\n        Set.prototype.clear = function () {\n            this.dictionary.clear();\n        };\n        Set.prototype.toString = function () {\n            return Collection.toString(this.toArray());\n        };\n        return Set;\n    }());\n    Collection.Set = Set;\n})(Collection || (Collection = {}));\nvar HotUpdate;\n(function (HotUpdate) {\n    HotUpdate.HOT_UPDATE_URL_ROOT = \"https://fshunj.oss-cn-guangzhou.aliyuncs.com/MiniGameRes/LatestVer/\";\n    HotUpdate.MINIGAME_VERSION_API_URL = HotUpdate.HOT_UPDATE_URL_ROOT + \"mini_version.txt\";\n    HotUpdate.MINIGAME_RES_URL_ROOT = HotUpdate.HOT_UPDATE_URL_ROOT;\n})(HotUpdate || (HotUpdate = {}));\nvar HotUpdate;\n(function (HotUpdate) {\n    function compareVersion(v1, v2) {\n        console.log(\":\", v1, v2);\n        var version1 = v1.split(\".\");\n        var version2 = v2.split(\".\");\n        if (version1.length != version2.length) {\n            return 1;\n        }\n        else {\n            var len = version1.length;\n            var i = 0;\n            for (; i < len; ++i) {\n                var _v1 = parseInt(version1[i]);\n                var _v2 = parseInt(version2[i]);\n                if (_v1 > _v2) {\n                    return 1;\n                }\n                else if (_v1 < _v2) {\n                    return -1;\n                }\n            }\n            return 0;\n        }\n    }\n    HotUpdate.compareVersion = compareVersion;\n    var OpRet = (function () {\n        function OpRet() {\n            this._errcode2Msg = {\n                1000: \"\",\n                1001: \"\",\n                1002: \"\",\n                1003: \"\",\n                2000: \"\",\n                2001: \"\",\n                2002: \"\",\n                2003: \"\",\n                2004: \"\",\n                2005: \"\",\n                2006: \"\",\n                2007: \"\",\n                3000: \"\",\n                3001: \"\",\n                3002: \"\",\n                4000: \"\",\n                4001: \"\",\n                9000: \"\",\n                9001: \"\",\n                9002: \"\",\n            };\n        }\n        OpRet.prototype.isSuccess = function () {\n            return this.errcode == 0;\n        };\n        return OpRet;\n    }());\n    HotUpdate.OpRet = OpRet;\n    var CheckVersionRet = (function (_super) {\n        __extends(CheckVersionRet, _super);\n        function CheckVersionRet() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.remoteApkVersion = -1;\n            return _this;\n        }\n        CheckVersionRet.prototype.errorMessage = function () {\n            return \"[]\" + this._errcode2Msg[this.errcode] || \"\";\n        };\n        return CheckVersionRet;\n    }(OpRet));\n    HotUpdate.CheckVersionRet = CheckVersionRet;\n    var MiniGameCheckVersionRet = (function (_super) {\n        __extends(MiniGameCheckVersionRet, _super);\n        function MiniGameCheckVersionRet() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return MiniGameCheckVersionRet;\n    }(CheckVersionRet));\n    HotUpdate.MiniGameCheckVersionRet = MiniGameCheckVersionRet;\n    var FetchPatchRet = (function (_super) {\n        __extends(FetchPatchRet, _super);\n        function FetchPatchRet() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        FetchPatchRet.prototype.errorMessage = function () {\n            return \"[]\" + this._errcode2Msg[this.errcode] || \"\";\n        };\n        return FetchPatchRet;\n    }(OpRet));\n    HotUpdate.FetchPatchRet = FetchPatchRet;\n    var DownloadPatchRet = (function (_super) {\n        __extends(DownloadPatchRet, _super);\n        function DownloadPatchRet() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        DownloadPatchRet.prototype.errorMessage = function () {\n            return \"[]\" + this._errcode2Msg[this.errcode] || \"\";\n        };\n        return DownloadPatchRet;\n    }(OpRet));\n    HotUpdate.DownloadPatchRet = DownloadPatchRet;\n    var ApkUpdateRet = (function (_super) {\n        __extends(ApkUpdateRet, _super);\n        function ApkUpdateRet() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        ApkUpdateRet.prototype.errorMessage = function () {\n            return \"[]\" + this._errcode2Msg[this.errcode] || \"\";\n        };\n        return ApkUpdateRet;\n    }(OpRet));\n    HotUpdate.ApkUpdateRet = ApkUpdateRet;\n    var HotUpdateObserver = (function () {\n        function HotUpdateObserver() {\n        }\n        return HotUpdateObserver;\n    }());\n    HotUpdate.HotUpdateObserver = HotUpdateObserver;\n    var ApkUpdateObserver = (function () {\n        function ApkUpdateObserver() {\n        }\n        return ApkUpdateObserver;\n    }());\n    HotUpdate.ApkUpdateObserver = ApkUpdateObserver;\n})(HotUpdate || (HotUpdate = {}));\nvar HotUpdate;\n(function (HotUpdate) {\n    var DownloadSettingRet = (function (_super) {\n        __extends(DownloadSettingRet, _super);\n        function DownloadSettingRet() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return DownloadSettingRet;\n    }(HotUpdate.DownloadPatchRet));\n    var MiniGameHotUpdateMgr = (function () {\n        function MiniGameHotUpdateMgr() {\n            this._localVersion = \"\";\n            this._observer = null;\n            this._buildType = \"\";\n            this._subType = \"\";\n            this.REMOTE_SERVER_ROOT = \"\";\n            this._serverlist = null;\n            if (Core.DeviceUtils.isWXGame()) {\n                this._buildType = \"wxgame\";\n                this._subType = \"wx1\";\n                this._fs = WXGame.WXFileSystem.inst;\n            }\n            else if (Core.DeviceUtils.isQQPlay()) {\n                this._buildType = \"qqgame\";\n                this._subType = \"qq1\";\n                this._fs = WXGame.WXFileSystem.inst;\n            }\n            else if (Core.DeviceUtils.isTTGame()) {\n                this._buildType = \"ttgame\";\n                this._subType = \"tt2\";\n                this._fs = WXGame.WXFileSystem.inst;\n            }\n            else {\n                throw Error(\"DeviceUtils\");\n            }\n            this.REMOTE_SERVER_ROOT = \"\" + HotUpdate.MINIGAME_RES_URL_ROOT;\n            this._localVersion = HotUpdate.miniGameVersionInfo[this._buildType][this._subType];\n            var cachedVersion = this._getVersionFromCache();\n            if (cachedVersion) {\n                this._cachedVerCompareToPackVerRet = HotUpdate.compareVersion(cachedVersion, this._localVersion);\n                if (this._cachedVerCompareToPackVerRet > 0) {\n                    this._localVersion = cachedVersion;\n                }\n            }\n        }\n        Object.defineProperty(MiniGameHotUpdateMgr, \"inst\", {\n            get: function () {\n                if (!this._inst) {\n                    this._inst = new MiniGameHotUpdateMgr();\n                }\n                return this._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MiniGameHotUpdateMgr.prototype, \"version\", {\n            get: function () {\n                return this._localVersion;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MiniGameHotUpdateMgr.prototype, \"buildType\", {\n            get: function () {\n                return this._buildType;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MiniGameHotUpdateMgr.prototype, \"subType\", {\n            get: function () {\n                return this._subType;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MiniGameHotUpdateMgr.prototype, \"hotUpdateFs\", {\n            get: function () {\n                return this._fs;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(MiniGameHotUpdateMgr.prototype, \"serverlist\", {\n            get: function () {\n                return this._serverlist;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        MiniGameHotUpdateMgr.prototype._saveVersionToCache = function (v) {\n            this._localVersion = v;\n            var localVersionStr = cc.sys.localStorage.getItem(\"__mini_versions__\");\n            var localVersion = {};\n            if (localVersionStr && localVersionStr != \"\") {\n                localVersion = JSON.parse(localVersionStr);\n            }\n            if (!localVersion[this._buildType]) {\n                localVersion[this._buildType] = {};\n            }\n            localVersion[this._buildType][this._subType] = v;\n            cc.sys.localStorage.setItem(\"__mini_versions__\", JSON.stringify(localVersion));\n        };\n        MiniGameHotUpdateMgr.prototype._getVersionFromCache = function () {\n            var cachedVersion = null;\n            var localVersionStr = cc.sys.localStorage.getItem(\"__mini_versions__\");\n            if (localVersionStr && localVersionStr != \"\") {\n                var localVersion = JSON.parse(localVersionStr);\n                if (localVersion[this._buildType] && localVersion[this._buildType][this._subType]) {\n                    cachedVersion = localVersion[this._buildType][this._subType];\n                }\n            }\n            return cachedVersion;\n        };\n        MiniGameHotUpdateMgr.prototype.hotUpdate = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var ret, remoteVerCompareToLocalVerRet, ret1, ret2, settingStr, settings;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this._checkVersion()];\n                        case 1:\n                            ret = _a.sent();\n                            if (!ret.isSuccess()) return [3, 8];\n                            console.log(\"new Ver come\");\n                            this._serverlist = ret.serverlist;\n                            remoteVerCompareToLocalVerRet = HotUpdate.compareVersion(ret.remoteVersion, this._localVersion);\n                            if (!(remoteVerCompareToLocalVerRet > 0)) return [3, 6];\n                            console.log(\"about to download jsonZip\");\n                            return [4, this._downloadJsonZip(ret.remoteVersion)];\n                        case 2:\n                            ret1 = _a.sent();\n                            if (!ret1.isSuccess()) return [3, 4];\n                            console.log(\"jsonZip downloaded ,about to download settingFile\");\n                            return [4, this._downloadSettingFile(ret.remoteVersion)];\n                        case 3:\n                            ret2 = _a.sent();\n                            if (ret2.isSuccess()) {\n                                if (this._observer && this._observer.onDownloadDone) {\n                                    this._observer.onDownloadDone(ret.errcode, ret2.errorMessage());\n                                }\n                                settingStr = ret2.settingStr;\n                                if (settingStr && settingStr != \"\") {\n                                    console.log(\"settingFile downloaded and init AssetLibrary.\");\n                                    settings = JSON.parse(settingStr);\n                                    if (settings) {\n                                        this._initAssetLibrary(settings);\n                                        this._saveVersionToCache(ret.remoteVersion);\n                                        return [2, { success: true }];\n                                    }\n                                    else {\n                                        return [2, { success: false, reason: \"\" }];\n                                    }\n                                }\n                                else {\n                                    return [2, { success: false, reason: \"\" }];\n                                }\n                            }\n                            else {\n                                return [2, { success: false, reason: ret2.errorMessage() }];\n                            }\n                            return [3, 5];\n                        case 4: return [2, { success: false, reason: ret1.errorMessage() }];\n                        case 5: return [3, 7];\n                        case 6:\n                            if (this._cachedVerCompareToPackVerRet > 0) {\n                                if (this._loadSettingsFromCached()) {\n                                    return [2, { success: true }];\n                                }\n                                else {\n                                    return [2, { success: false, reason: \"\" }];\n                                }\n                            }\n                            else {\n                                if (remoteVerCompareToLocalVerRet == 0) {\n                                }\n                                return [2, { success: true }];\n                            }\n                            _a.label = 7;\n                        case 7: return [3, 9];\n                        case 8: return [2, { success: false, reason: ret.errorMessage() }];\n                        case 9: return [2];\n                    }\n                });\n            });\n        };\n        MiniGameHotUpdateMgr.prototype.registerObserver = function (ob) {\n            this._observer = ob;\n        };\n        MiniGameHotUpdateMgr.prototype._checkVersion = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var ret;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (this._observer && this._observer.onCheckVersion) {\n                                this._observer.onCheckVersion();\n                            }\n                            return [4, new Promise(function (resolve) {\n                                    var url = HotUpdate.MINIGAME_VERSION_API_URL;\n                                    var xmlReq = cc.loader.getXMLHttpRequest();\n                                    xmlReq.open(\"GET\", url);\n                                    xmlReq.responseType = \"text\";\n                                    xmlReq.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n                                    xmlReq.onreadystatechange = function () {\n                                        if (xmlReq.readyState == 4) {\n                                            var ret_1 = new HotUpdate.MiniGameCheckVersionRet();\n                                            if (xmlReq.status >= 200 && xmlReq.status <= 304) {\n                                                var response = JSON.parse(xmlReq.responseText);\n                                                var code = response[\"code\"];\n                                                ret_1.errcode = code;\n                                                if (code == 0) {\n                                                    ret_1.remoteVersion = response[\"version\"];\n                                                    ret_1.serverlist = response[\"serverlist\"];\n                                                }\n                                            }\n                                            else {\n                                                ret_1.errcode = 9000;\n                                            }\n                                            console.log(\"_checkVersion request error status: \", xmlReq.status);\n                                            resolve(ret_1);\n                                        }\n                                    };\n                                    xmlReq.onload = function () {\n                                    };\n                                    xmlReq.ontimeout = function () {\n                                        var ret = new HotUpdate.MiniGameCheckVersionRet();\n                                        ret.errcode = 9001;\n                                        resolve(ret);\n                                    };\n                                    xmlReq.onerror = function () {\n                                        var ret = new HotUpdate.MiniGameCheckVersionRet();\n                                        ret.errcode = 9002;\n                                        resolve(ret);\n                                    };\n                                    xmlReq.send();\n                                })];\n                        case 1:\n                            ret = _a.sent();\n                            if (this._observer && this._observer.onCheckVersionDone) {\n                                this._observer.onCheckVersionDone(ret.errcode, ret.errorMessage());\n                            }\n                            return [2, ret];\n                    }\n                });\n            });\n        };\n        MiniGameHotUpdateMgr.prototype._downloadSettingFile = function (remoteVersion) {\n            return __awaiter(this, void 0, void 0, function () {\n                var ret, url, settingsStr;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            ret = new DownloadSettingRet();\n                            url = this.REMOTE_SERVER_ROOT + (\"settings_\" + remoteVersion + \".txt\");\n                            return [4, this._fs.xhrLoad(url, null, null, true).catch(function (error) {\n                                    console.error(\"[MiniGameHotUpdate] download setting file exception: \", error);\n                                    return \"\";\n                                })];\n                        case 1:\n                            settingsStr = _a.sent();\n                            if (!(settingsStr && settingsStr != \"\")) return [3, 3];\n                            return [4, this._fs.writeFile(\"settings.txt\", settingsStr)];\n                        case 2:\n                            if (_a.sent()) {\n                                ret.errcode = 0;\n                                ret.settingStr = settingsStr;\n                            }\n                            else {\n                                ret.errcode = 3001;\n                            }\n                            return [3, 4];\n                        case 3:\n                            ret.errcode = 3000;\n                            _a.label = 4;\n                        case 4: return [2, ret];\n                    }\n                });\n            });\n        };\n        MiniGameHotUpdateMgr.prototype._downloadJsonZip = function (remoteVersion) {\n            return __awaiter(this, void 0, void 0, function () {\n                var fileName, self, ret, downloadRet;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            fileName = \"json_\" + remoteVersion + \".zip\";\n                            self = this;\n                            return [4, this._fs.loadRemoteImportZipFile(fileName, function (res) {\n                                    if (self._observer && self._observer.onDownloadProgress) {\n                                        self._observer.onDownloadProgress(res.totalBytesWritten, res.totalBytesExpectedToWrite);\n                                    }\n                                })];\n                        case 1:\n                            ret = _a.sent();\n                            downloadRet = new HotUpdate.DownloadPatchRet();\n                            if (ret) {\n                                downloadRet.errcode = 0;\n                            }\n                            else {\n                                downloadRet.errcode = 3002;\n                            }\n                            return [2, downloadRet];\n                    }\n                });\n            });\n        };\n        MiniGameHotUpdateMgr.prototype._loadSettingsFromCached = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var settingsStr, settings;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            console.log(\"WXHotUpdate already up to date, load cached settings.json\");\n                            return [4, this._fs.readFile(\"settings.txt\", \"utf-8\")];\n                        case 1:\n                            settingsStr = (_a.sent());\n                            if (settingsStr && settingsStr != \"\") {\n                                settings = JSON.parse(settingsStr);\n                                this._initAssetLibrary(settings);\n                                return [2, true];\n                            }\n                            else {\n                                return [2, false];\n                            }\n                            return [2];\n                    }\n                });\n            });\n        };\n        MiniGameHotUpdateMgr.prototype._initAssetLibrary = function (settings) {\n            if (!settings.debug) {\n                var uuids = settings.uuids;\n                var rawAssets = settings.rawAssets;\n                var assetTypes = settings.assetTypes;\n                var realRawAssets = settings.rawAssets = {};\n                var rawAssetKeys = Object.keys(rawAssets);\n                for (var _i = 0, rawAssetKeys_1 = rawAssetKeys; _i < rawAssetKeys_1.length; _i++) {\n                    var mount = rawAssetKeys_1[_i];\n                    var entries = rawAssets[mount];\n                    var realEntries = realRawAssets[mount] = {};\n                    for (var _a = 0, _b = Object.keys(entries); _a < _b.length; _a++) {\n                        var id = _b[_a];\n                        var entry = entries[id];\n                        var type = entry[1];\n                        if (typeof type == 'number') {\n                            entry[1] = assetTypes[type];\n                        }\n                        var _id = parseInt(id);\n                        realEntries[uuids[_id] || id] = entry;\n                    }\n                }\n                var packedAssets = settings.packedAssets;\n                var packedAssetsKeys = Object.keys(packedAssets);\n                for (var _c = 0, packedAssetsKeys_1 = packedAssetsKeys; _c < packedAssetsKeys_1.length; _c++) {\n                    var packId = packedAssetsKeys_1[_c];\n                    var packedIds = packedAssets[packId];\n                    var j = 0;\n                    var length = packedIds.length;\n                    for (; j < length; ++j) {\n                        if (typeof packedIds[j] == 'number') {\n                            packedIds[j] = uuids[packedIds[j]];\n                        }\n                    }\n                }\n                var scenes = settings.scenes;\n                for (var i = 0; i < scenes.length; ++i) {\n                    var scene = scenes[i];\n                    if (typeof scene.uuid === 'number') {\n                        scene.uuid = uuids[scene.uuid];\n                    }\n                }\n                var t = settings.uuids, r = settings.md5AssetsMap;\n                for (var s in r)\n                    for (var obj = r[s], n = 0; n < obj.length; n += 2)\n                        \"number\" == typeof i[n] && (i[n] = t[i[n]]);\n                var subpackages = settings.subpackages;\n                for (var subId in subpackages) {\n                    var uuidArray = subpackages[subId].uuids;\n                    if (uuidArray) {\n                        for (var k = 0, l = uuidArray.length; k < l; k++) {\n                            if (typeof uuidArray[k] === 'number') {\n                                uuidArray[k] = uuids[uuidArray[k]];\n                            }\n                        }\n                    }\n                }\n            }\n            var options = {\n                libraryPath: 'res/import',\n                rawAssetsBase: 'res/raw-',\n                rawAssets: settings.rawAssets,\n                packedAssets: settings.packedAssets,\n                md5AssetsMap: settings.md5AssetsMap\n            };\n            var md5Pipe = cc.loader.md5Pipe;\n            if (md5Pipe) {\n                cc.loader.removePipe(md5Pipe);\n            }\n            cc.AssetLibrary.init(options);\n            console.log(\"------ initAssetLibrary with options: \", options);\n        };\n        return MiniGameHotUpdateMgr;\n    }());\n    HotUpdate.MiniGameHotUpdateMgr = MiniGameHotUpdateMgr;\n    function MiniGameHotUpdate(ob) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        MiniGameHotUpdateMgr.inst.registerObserver(ob);\n                        return [4, MiniGameHotUpdateMgr.inst.hotUpdate()];\n                    case 1: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n    HotUpdate.MiniGameHotUpdate = MiniGameHotUpdate;\n    function updateLoadingHint(hint) {\n        window[\"GameLogic\"][\"updateLoadingHint\"](hint);\n    }\n    function checkMiniGamePackageUpdate() {\n        return __awaiter(this, void 0, void 0, function () {\n            var namespace, r;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        namespace = wx;\n                        if (Core.DeviceUtils.isTTGame()) {\n                            namespace = tt;\n                        }\n                        if (namespace.getUpdateManager == undefined) {\n                            return [2];\n                        }\n                        r = null;\n                        return [4, new Promise(function (resolve) {\n                                r = resolve;\n                                var updateManager = namespace.getUpdateManager();\n                                var resolveCheck = function () {\n                                    if (r) {\n                                        r();\n                                        r = null;\n                                    }\n                                };\n                                updateManager.onCheckForUpdate(function (res) {\n                                    console.log(\"MiniGameHotUpdate has new app package: \", res.hasUpdate);\n                                    if (res.hasUpdate) {\n                                        updateLoadingHint(\"...\");\n                                    }\n                                    else {\n                                        updateLoadingHint(\"\");\n                                        resolveCheck();\n                                    }\n                                });\n                                updateManager.onUpdateReady(function () {\n                                    updateLoadingHint(\"\");\n                                    namespace.showModal({\n                                        title: '',\n                                        content: '',\n                                        showCancel: false,\n                                        success: function (res) {\n                                            if (res.confirm) {\n                                                updateManager.applyUpdate();\n                                            }\n                                            else {\n                                                resolveCheck();\n                                            }\n                                        },\n                                        fail: function (res) {\n                                            resolveCheck();\n                                        }\n                                    });\n                                });\n                                updateManager.onUpdateFailed(function () {\n                                    updateLoadingHint(\"\");\n                                    resolveCheck();\n                                });\n                                if (Core.DeviceUtils.isTTGame()) {\n                                    resolveCheck();\n                                }\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    }\n    HotUpdate.checkMiniGamePackageUpdate = checkMiniGamePackageUpdate;\n})(HotUpdate || (HotUpdate = {}));\nvar HotUpdate;\n(function (HotUpdate) {\n    HotUpdate.miniGameVersionInfo = {\n        \"kgame\": {\n            \"kg1\": \"0.0.0\",\n            \"kg2\": \"0.0.0\"\n        },\n        \"qqgame\": {\n            \"qq1\": \"0.1.76\",\n            \"qq2\": \"0.1.71\",\n            \"qq3\": \"0.1.73\"\n        },\n        \"ttgame\": {\n            \"tt1\": \"0.0.0\",\n            \"tt2\": \"0.0.0\",\n            \"tt3\": \"0.0.0\"\n        },\n        \"wxgame\": {\n            \"wx1\": \"0.2.58\",\n            \"wx2\": \"0.2.52\",\n            \"wx3\": \"0.2.55\"\n        }\n    };\n})(HotUpdate || (HotUpdate = {}));\nvar HotUpdate;\n(function (HotUpdate) {\n    HotUpdate.nativeVersionInfo = {\n        \"banshu\": {\n            \"android\": \"0.0.1\",\n            \"ios\": \"0.0.0\"\n        },\n        \"chess\": {\n            \"android\": \"0.0.28\",\n            \"ios\": \"0.1.16\"\n        },\n        \"openew\": {\n            \"android\": \"0.2.31\",\n            \"ios\": \"0.7.22\",\n            \"pc\": \"0.7.30\"\n        },\n        \"test\": {\n            \"android\": \"1.0.95\",\n            \"ios\": \"0.0.0\"\n        },\n        \"xianfeng\": {\n            \"android\": \"0.0.28\",\n            \"ios\": \"0.0.1\"\n        }\n    };\n})(HotUpdate || (HotUpdate = {}));\nvar Entry = (function () {\n    function Entry() {\n    }\n    Object.defineProperty(Entry, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new Entry();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Entry.prototype.enterMain = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, WXGame.CocosWXDownloader.initLoaders()];\n                    case 1:\n                        _a.sent();\n                        Test.inst.run();\n                        return [2];\n                }\n            });\n        });\n    };\n    Entry._inst = null;\n    return Entry;\n}());\nfunction main() {\n    Entry.inst.enterMain();\n}\nfunction start() {\n}\nfunction update() {\n}\nfunction destroy() {\n}\nif (!window[\"GameLogic\"]) {\n    window[\"GameLogic\"] = {};\n}\nwindow[\"GameLogic\"][\"entry\"] = main;\nwindow[\"GameLogic\"][\"start\"] = start;\nwindow[\"GameLogic\"][\"update\"] = update;\nwindow[\"GameLogic\"][\"destroy\"] = destroy;\nvar Test = (function () {\n    function Test() {\n    }\n    Object.defineProperty(Test, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new Test();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Test.prototype.run = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                console.log(\"run start\");\n                TestHotUpdate.inst.run();\n                return [2];\n            });\n        });\n    };\n    Test._inst = null;\n    return Test;\n}());\nvar TestHotUpdate = (function () {\n    function TestHotUpdate() {\n    }\n    Object.defineProperty(TestHotUpdate, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestHotUpdate();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestHotUpdate.prototype.run = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var btn;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log(\"TestHotUpdate start\");\n                        btn = cc.find(\"Canvas/hotUpdate\");\n                        if (btn) {\n                            btn.on(cc.Node.EventType.TOUCH_END, function () { return __awaiter(_this, void 0, void 0, function () {\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4, this.testHotUpdate()];\n                                        case 1:\n                                            _a.sent();\n                                            return [4, this.test2_new()];\n                                        case 2:\n                                            _a.sent();\n                                            return [2];\n                                    }\n                                });\n                            }); });\n                        }\n                        return [4, this.test2()];\n                    case 1:\n                        _a.sent();\n                        setTimeout(function () {\n                            console.log(\"cc.loader._cache:\", cc.loader[\"_cache\"]);\n                        }, 10);\n                        return [2];\n                }\n            });\n        });\n    };\n    TestHotUpdate.prototype.testHotUpdate = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var ob;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        ob = new HotUpdate.HotUpdateObserver();\n                        ob.onCheckVersion = function () {\n                            console.log(\"onCheckVersion\");\n                        };\n                        ob.onCheckVersionDone = function (errcode, message) {\n                            console.log(\"onCheckVersionDone--\", errcode, message);\n                        };\n                        ob.onFetchPatchUri = function () {\n                            console.log(\"onFetchPatchUri\");\n                        };\n                        ob.onFetchPatchUriDone = function (errcode, message) {\n                            console.log(\"onFetchPatchUriDone\");\n                        };\n                        ob.onDownload = function () {\n                            console.log(\"onDownload\");\n                        };\n                        ob.onDownloadProgress = function (current, total) {\n                            console.log(\"onDownloadProgress--\", \"current:\", current, \"--\", \"total:\", total);\n                        };\n                        ob.onUnzipProgress = function (current, total) {\n                            console.log(\"onUnzipProgress--\");\n                        };\n                        ob.onDownloadDone = function (errcode, message) {\n                            console.log(\"onDownloadDone\");\n                        };\n                        HotUpdate.MiniGameHotUpdateMgr.inst.registerObserver(ob);\n                        return [4, HotUpdate.MiniGameHotUpdateMgr.inst.hotUpdate()];\n                    case 1:\n                        _a.sent();\n                        console.log(\"\");\n                        return [2];\n                }\n            });\n        });\n    };\n    TestHotUpdate.prototype.test1 = function () {\n        console.log(\"206\");\n        cc.loader.loadRes('card_m/206', cc.SpriteFrame, function (err, spriteFrame) {\n            if (err) {\n                cc.error(err.message || err);\n                return;\n            }\n            var spriteNode = cc.find(\"Canvas/sprite\");\n            var sprite = spriteNode.addComponent(cc.Sprite);\n            sprite.spriteFrame = spriteFrame;\n        });\n    };\n    TestHotUpdate.prototype.test2 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) {\n                        cc.loader.loadRes('card_m/204', cc.SpriteFrame, function (err, spriteFrame) {\n                            if (err) {\n                                cc.error(err.message || err);\n                                reject(false);\n                            }\n                            var spriteNode = cc.find(\"Canvas/sprite\");\n                            var sprite = spriteNode.addComponent(cc.Sprite);\n                            sprite.spriteFrame = spriteFrame;\n                            resolve(true);\n                        });\n                    })];\n            });\n        });\n    };\n    TestHotUpdate.prototype.test2_new = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var spriteNode, sprite, sf, t2d;\n            return __generator(this, function (_a) {\n                spriteNode = cc.find(\"Canvas/sprite\");\n                sprite = spriteNode.getComponent(cc.Sprite);\n                sf = sprite.spriteFrame;\n                t2d = sf.getTexture();\n                console.log(\"spriteFrame\", sf);\n                cc.loader.release(sf);\n                cc.loader.release(t2d);\n                spriteNode.removeComponent(sprite);\n                return [2, new Promise(function (resolve, reject) {\n                        cc.loader.loadRes('card_m/204', cc.SpriteFrame, function (err, spriteFrame) {\n                            console.log(\"spriteFrame\", spriteFrame);\n                            if (err) {\n                                cc.error(err.message || err);\n                                reject(false);\n                            }\n                            var spriteNode = cc.find(\"Canvas/sprite\");\n                            var sprite = spriteNode.addComponent(cc.Sprite);\n                            sprite.spriteFrame = spriteFrame;\n                            setTimeout(function () {\n                                console.log(\"cc.loader._cache:\", cc.loader[\"_cache\"]);\n                                resolve(true);\n                            }, 10);\n                        });\n                    })];\n            });\n        });\n    };\n    TestHotUpdate._inst = null;\n    return TestHotUpdate;\n}());\nvar TestMiniGame = (function () {\n    function TestMiniGame() {\n    }\n    Object.defineProperty(TestMiniGame, \"inst\", {\n        get: function () {\n            if (this._inst == null) {\n                this._inst = new TestMiniGame();\n            }\n            return this._inst;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TestMiniGame.prototype.run = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log(\"TestMiniGame..\");\n                        return [4, this.test2()];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    TestMiniGame.prototype.test1 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var rootDir;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        rootDir = \"\" + wx.env.USER_DATA_PATH;\n                        console.log(\"\");\n                        return [4, this.testCreateDir(\"aaa\")];\n                    case 1:\n                        _a.sent();\n                        return [4, this.testListDir(\"\" + rootDir)];\n                    case 2:\n                        _a.sent();\n                        return [4, this.isDirOrFileExist(\"aaa\")];\n                    case 3:\n                        if (_a.sent()) {\n                            console.log(\"aaa  \");\n                        }\n                        else {\n                            console.log(\"aaa  \");\n                        }\n                        return [4, this.isDirOrFileExist(rootDir + \"/kk\")];\n                    case 4:\n                        if (!_a.sent()) return [3, 6];\n                        console.log(\"dir-kk exist\");\n                        return [4, this.testRmDirRecursive(rootDir + \"/kk\")];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6: return [4, this.isDirOrFileExist(rootDir + \"/myZip.zip\")];\n                    case 7:\n                        if (!_a.sent()) return [3, 9];\n                        console.log(\"myZip.zip exist\");\n                        return [4, this.testUnlinkFile(rootDir + \"/myZip.zip\")];\n                    case 8:\n                        _a.sent();\n                        _a.label = 9;\n                    case 9: return [4, this.isDirOrFileExist(rootDir + \"/json_1.1.txt\")];\n                    case 10:\n                        if (!_a.sent()) return [3, 12];\n                        console.log(\"json_1.1.txt exist\");\n                        return [4, this.testUnlinkFile(rootDir + \"/json_1.1.txt\")];\n                    case 11:\n                        _a.sent();\n                        _a.label = 12;\n                    case 12:\n                        console.log(\"--\");\n                        return [4, this.testListDir(\"\" + rootDir)];\n                    case 13:\n                        _a.sent();\n                        return [4, this.testListDir(rootDir + \"/gamecaches\")];\n                    case 14:\n                        _a.sent();\n                        return [4, this.testCreateDir(\"kk\")];\n                    case 15:\n                        _a.sent();\n                        return [4, this.testWriteFile()];\n                    case 16:\n                        _a.sent();\n                        return [4, this.testListDir(\"\" + rootDir)];\n                    case 17:\n                        _a.sent();\n                        return [4, this.testListDir(rootDir + \"/kk\")];\n                    case 18:\n                        _a.sent();\n                        return [4, this.testAccessDirAndRead()];\n                    case 19:\n                        _a.sent();\n                        return [4, this.testUnlinkFile(\"\" + wx.env.USER_DATA_PATH + \"/kk/tmp.txt\")];\n                    case 20:\n                        _a.sent();\n                        return [4, this.testListDir(rootDir + \"/kk\")];\n                    case 21:\n                        _a.sent();\n                        return [4, this.testDownloadFile()];\n                    case 22:\n                        _a.sent();\n                        return [4, this.unzipFile(\"\" + rootDir)];\n                    case 23:\n                        _a.sent();\n                        return [4, this.testListDir(\"\" + rootDir)];\n                    case 24:\n                        _a.sent();\n                        return [4, this.testFileExistAndRead(rootDir + \"/json_1.1.txt\")];\n                    case 25:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    TestMiniGame.prototype.testWriteFile = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var FileSystemManager;\n            return __generator(this, function (_a) {\n                FileSystemManager = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        FileSystemManager.writeFile({\n                            filePath: wx.env.USER_DATA_PATH + '/kk/tmp.txt',\n                            data: '1111',\n                            encoding: 'utf8',\n                            success: function (res) {\n                                console.info(\"write success:\" + res);\n                                resolve();\n                            },\n                            fail: function (err) {\n                                console.info(\"write failed:\", err.error, \":\", err.errMsg);\n                                reject();\n                            },\n                            complete: null\n                        });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testListDir = function (path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fs;\n            return __generator(this, function (_a) {\n                fs = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        fs.readdir({\n                            dirPath: \"\" + path,\n                            success: function (res) {\n                                console.log(\"success to list dir:\" + path + \"--->\", res.files);\n                                resolve();\n                            },\n                            fail: function (err) {\n                                console.error(\"list dir err\", err.errMsg);\n                                reject();\n                            },\n                            complete: null\n                        });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testFileExistAndRead = function (filePath) {\n        return __awaiter(this, void 0, void 0, function () {\n            var FileSystemManager;\n            return __generator(this, function (_a) {\n                FileSystemManager = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        var path = \"\" + filePath;\n                        var success = function (res) {\n                            console.log(filePath + \" \\u5B58\\u5728:\", res);\n                            FileSystemManager.readFile({\n                                filePath: filePath,\n                                encoding: 'utf8',\n                                success: function (res) {\n                                    console.log(filePath + \" \\u5185\\u5BB9\\u662F-->\", res.data);\n                                    resolve();\n                                },\n                                fail: function (err) { console.log(\"read \" + filePath + \" failed;\"); },\n                                complete: null\n                            });\n                        };\n                        var fail = function (err) {\n                            console.log(\"fail to access dir \", filePath, err);\n                            reject();\n                        };\n                        var complete = function () {\n                            console.log(\"complete\");\n                        };\n                        FileSystemManager.access({ path: path, success: success, fail: fail, complete: complete });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.isDirOrFileExist = function (dirOrFile) {\n        return __awaiter(this, void 0, void 0, function () {\n            var FileSystemManager;\n            return __generator(this, function (_a) {\n                FileSystemManager = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        var path = dirOrFile;\n                        var success = function (res) {\n                            console.log(dirOrFile + \"-\\u5B58\\u5728\", res);\n                            resolve(true);\n                        };\n                        var fail = function (err) {\n                            console.log(dirOrFile + \" does not exit\", err);\n                            resolve(false);\n                        };\n                        var complete = function () {\n                        };\n                        FileSystemManager.access({ path: path, success: success, fail: fail, complete: complete });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testAccessDirAndRead = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var FileSystemManager;\n            return __generator(this, function (_a) {\n                FileSystemManager = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        var path = wx.env.USER_DATA_PATH + \"/kk\";\n                        var success = function (res) {\n                            console.log('kk', res);\n                            FileSystemManager.readFile({\n                                filePath: wx.env.USER_DATA_PATH + '/kk/tmp.txt',\n                                encoding: 'utf8',\n                                success: function (res) {\n                                    console.log(\"kk/tmp.txt is:-->\", res.data);\n                                    resolve();\n                                },\n                                fail: function (err) { console.log(\"read file kk/tmp.txt failed;\"); },\n                                complete: function () { console.log(\"read file kk/tmp.txt completed;\"); }\n                            });\n                        };\n                        var fail = function (err) {\n                            console.log(\"fail to access dir kk\", err);\n                            reject();\n                        };\n                        var complete = function () {\n                            console.log(\"complete\");\n                        };\n                        FileSystemManager.access({ path: path, success: success, fail: fail, complete: complete });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testCreateDir = function (dirName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var FileSystemManager;\n            return __generator(this, function (_a) {\n                FileSystemManager = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        FileSystemManager.mkdir({\n                            dirPath: wx.env.USER_DATA_PATH + \"/\" + dirName,\n                            success: function (res) {\n                                console.log('success make dir', res);\n                                resolve();\n                            },\n                            fail: function (err) {\n                                console.log('fail to make dir', err);\n                                ;\n                                reject();\n                            },\n                            complete: function (err) {\n                                console.log('complete', err);\n                                ;\n                            }\n                        });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testUnlinkFile = function (path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fs;\n            return __generator(this, function (_a) {\n                fs = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        fs.unlink({\n                            filePath: path,\n                            success: function (res) {\n                                console.log(\"success to delete file:\" + path, res);\n                                resolve();\n                            },\n                            fail: function (err) {\n                                console.error(\"fail to delete file:\" + path, err.errMsg);\n                                reject();\n                            }\n                        });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testRmDirRecursive = function (path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fs;\n            return __generator(this, function (_a) {\n                fs = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        var option = {\n                            dirPath: path,\n                            recursive: true,\n                            success: function (v) {\n                                console.log(\"delete dir:\" + path);\n                                resolve(v);\n                            },\n                            fail: function (e) {\n                                console.error(\"delete dir error:\", e.errMsg);\n                                reject(null);\n                            },\n                            complete: function (res) {\n                            }\n                        };\n                        fs.rmdir(option);\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testDownloadFile = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var fs;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fs = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        var url = \"https://fshunj.oss-cn-guangzhou.aliyuncs.com/zip/json_1.1.zip\";\n                        var option = {\n                            url: url,\n                            success: function (v) {\n                                if (v.statusCode >= 400) {\n                                    reject(null);\n                                }\n                                else {\n                                    console.log(\"download success:\", v);\n                                    _this._tempFilePath = v.tempFilePath;\n                                    resolve(v);\n                                }\n                            },\n                            fail: function (e) {\n                                console.error(\"download error:\", e.errMsg);\n                            },\n                            complete: function (res) {\n                            }\n                        };\n                        wx.downloadFile(option);\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testSaveFile = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var FileSystemManager;\n            var _this = this;\n            return __generator(this, function (_a) {\n                FileSystemManager = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        if (_this._tempFilePath) {\n                            var option = {\n                                tempFilePath: _this._tempFilePath,\n                                filePath: wx.env.USER_DATA_PATH + \"/myZip.zip\",\n                                success: function (res) {\n                                    console.log(\"save file success: \", res);\n                                    resolve(res);\n                                },\n                                fail: function (e) {\n                                    console.error(\"save file failed:\", e.errMsg);\n                                    reject();\n                                },\n                                complete: function () {\n                                }\n                            };\n                            console.log(\"options is \", option);\n                            FileSystemManager.saveFile(option);\n                        }\n                        else {\n                            reject();\n                        }\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.unzipFile = function (path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var FileSystemManager;\n            var _this = this;\n            return __generator(this, function (_a) {\n                FileSystemManager = wx.getFileSystemManager();\n                return [2, new Promise(function (resolve, reject) {\n                        var fs = wx.getFileSystemManager();\n                        fs.unzip({\n                            zipFilePath: \"\" + _this._tempFilePath,\n                            targetPath: \"\" + path,\n                            success: function (res) {\n                                console.log(\"unzip success!\", res);\n                                resolve(res);\n                            },\n                            fail: function (err) {\n                                console.log('fail', err.errMsg, \"errCode:\", err.errCode);\n                                reject();\n                            },\n                            complete: function () {\n                            }\n                        });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.testMiniGame = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2];\n            });\n        });\n    };\n    TestMiniGame.prototype.load204Card = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) {\n                        cc.loader.loadRes('card_m/204', cc.Texture2D, function (err, tex2d) {\n                            resolve();\n                        });\n                    })];\n            });\n        });\n    };\n    TestMiniGame.prototype.test2 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.load204Card()];\n                    case 1:\n                        _a.sent();\n                        cc.loader.release(\"card_m/204\");\n                        return [2];\n                }\n            });\n        });\n    };\n    TestMiniGame.prototype.test3 = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                    var _this = this;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                console.log(\"1\");\n                                return [4, this.test2()];\n                            case 1:\n                                _a.sent();\n                                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                                    return __generator(this, function (_a) {\n                                        switch (_a.label) {\n                                            case 0:\n                                                console.log(\"2\");\n                                                cc.loader.release(\"card_m/205\");\n                                                return [4, this.test2()];\n                                            case 1:\n                                                _a.sent();\n                                                console.log(\"3\");\n                                                return [2];\n                                        }\n                                    });\n                                }); }, 5000);\n                                return [2];\n                        }\n                    });\n                }); }, 5000);\n                return [2];\n            });\n        });\n    };\n    TestMiniGame._inst = null;\n    return TestMiniGame;\n}());\nvar WXGame;\n(function (WXGame) {\n    var WXFileSystem = (function () {\n        function WXFileSystem() {\n            this._NO_VERSION = \"n\";\n            this._downloadFailRetryCnt = 30;\n            if (Core.DeviceUtils.isQQPlay()) {\n                this._fs = qq.getFileSystemManager();\n            }\n            else {\n                this._fs = wx.getFileSystemManager();\n            }\n            console.log(\"WXLoaders !!!!!!!\", this._fs);\n            this._dirCache = new Collection.Dictionary();\n            this._fsRoot = wx.env.USER_DATA_PATH + \"/\";\n            this._fsCacheFile = \"cached_file_path_v1.info\";\n            this._fsCachePathInfo = {};\n            this._dirty = false;\n            this._saving = false;\n            this._mkdirPromise = new Collection.Dictionary();\n            this._isNewDownloader = false;\n        }\n        Object.defineProperty(WXFileSystem, \"inst\", {\n            get: function () {\n                if (!WXFileSystem._inst) {\n                    WXFileSystem._inst = new WXFileSystem();\n                }\n                return WXFileSystem._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WXFileSystem.prototype.startSaveFileHeartbeat = function () {\n        };\n        WXFileSystem.prototype._savePathFile = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var str;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!(this._dirty && !this._saving)) return [3, 2];\n                            this._dirty = false;\n                            this._saving = true;\n                            str = JSON.stringify(this._fsCachePathInfo);\n                            return [4, this.writeFile(this._fsCacheFile, str)];\n                        case 1:\n                            _a.sent();\n                            console.log(\"saving version file, size = \", str.length);\n                            console.log(this._fsCachePathInfo);\n                            this._saving = false;\n                            _a.label = 2;\n                        case 2: return [2];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.deleteAllCache = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.access(this._fsCacheFile)];\n                        case 1:\n                            if (!_a.sent()) return [3, 5];\n                            return [4, this.unlink(this._fsCacheFile)];\n                        case 2:\n                            _a.sent();\n                            return [4, this.dirExists(\"res\")];\n                        case 3:\n                            if (!_a.sent()) return [3, 5];\n                            return [4, this.deleteCache(\"res\").catch(function (error) {\n                                    console.error(error);\n                                }).then(function (res) {\n                                    console.log(\"[deleteAllCache] res = \", res);\n                                    _this.exitGame();\n                                })];\n                        case 4:\n                            _a.sent();\n                            _a.label = 5;\n                        case 5: return [2];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.exitGame = function () {\n            wx.exitMiniProgram({\n                success: function () { },\n                fail: function () {\n                    console.log(\"~\");\n                },\n                complete: function () { }\n            });\n        };\n        WXFileSystem.prototype.restartGame = function () {\n            if (wx.restartMiniProgram)\n                wx.restartMiniProgram();\n            else\n                this.exitGame();\n        };\n        WXFileSystem.prototype.deleteImportJsonCache = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var ret;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.dirExists(\"res\")];\n                        case 1:\n                            if (!_a.sent()) return [3, 4];\n                            console.log(\"res \");\n                            return [4, this.dirExists(\"res/import\")];\n                        case 2:\n                            if (!_a.sent()) return [3, 4];\n                            console.log(\"res/import\");\n                            return [4, this.rmdir(\"res/import\").catch(function (error) {\n                                    console.error(error);\n                                    return false;\n                                }).then(function (res) {\n                                    console.log(\"delete res/import res = \", res);\n                                    return true;\n                                })];\n                        case 3:\n                            ret = _a.sent();\n                            if (ret) {\n                                this._fsCachePathInfo[\".json\"] = {};\n                                this._dirty = true;\n                                return [2, true];\n                            }\n                            else {\n                                return [2, false];\n                            }\n                            _a.label = 4;\n                        case 4: return [2, true];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.initFilePathInfos = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var infoStr;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.access(this._fsCacheFile)];\n                        case 1:\n                            if (!!(_a.sent())) return [3, 3];\n                            this._isNewDownloader = true;\n                            return [4, this.writeFile(this._fsCacheFile, \"{}\")];\n                        case 2:\n                            if (!(_a.sent())) {\n                                console.error(\"can't init file version info\");\n                            }\n                            _a.label = 3;\n                        case 3: return [4, this.readFile(this._fsCacheFile, \"utf8\")];\n                        case 4:\n                            infoStr = _a.sent();\n                            if (!infoStr) {\n                                console.error(\"can't read file version info\");\n                            }\n                            else {\n                                this._fsCachePathInfo = JSON.parse(infoStr);\n                            }\n                            return [2];\n                    }\n                });\n            });\n        };\n        Object.defineProperty(WXFileSystem.prototype, \"isNewDownloader\", {\n            get: function () {\n                return this._isNewDownloader;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WXFileSystem.prototype.setFileLocalPath = function (item, path) {\n            return __awaiter(this, void 0, void 0, function () {\n                var uuid, rawUrl, extName, oldPath;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            uuid = this.getItemUuid(item);\n                            if (!uuid) {\n                                console.error(\"setFileLocalPath can't get uuid for item\", item);\n                                return [2];\n                            }\n                            this._dirty = true;\n                            rawUrl = item.rawUrl;\n                            extName = cc.path.extname(rawUrl);\n                            if (!this._fsCachePathInfo[extName]) {\n                                this._fsCachePathInfo[extName] = {};\n                            }\n                            oldPath = this._fsCachePathInfo[extName][uuid];\n                            this._fsCachePathInfo[extName][uuid] = path;\n                            if (!(oldPath && oldPath != path)) return [3, 2];\n                            console.log(\"unlink old asset: \", oldPath, \"new path: \", path);\n                            return [4, this.unlink(oldPath, false)];\n                        case 1:\n                            _a.sent();\n                            _a.label = 2;\n                        case 2: return [2];\n                    }\n                });\n            });\n        };\n        Object.defineProperty(WXFileSystem.prototype, \"fsRoot\", {\n            get: function () {\n                return this._fsRoot;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WXFileSystem.prototype, \"wxFs\", {\n            get: function () {\n                return this._fs;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WXFileSystem.prototype.isRemotePath = function (p) {\n            return p.indexOf(\"http://\") == 0 || p.indexOf(\"https://\") == 0;\n        };\n        WXFileSystem.prototype.getLocalFilePath = function (p) {\n            return p.split(\"?\")[0];\n        };\n        WXFileSystem.prototype.getWXFilePath = function (p) {\n            return this._fsRoot + p;\n        };\n        WXFileSystem.prototype.getFileVersion = function (p) {\n            var arr = p.split(\"?\");\n            if (arr.length >= 2) {\n                return arr[1];\n            }\n            else {\n                return null;\n            }\n        };\n        WXFileSystem.prototype.getItemUuid = function (item) {\n            var rawUrl = item.rawUrl;\n            if (!rawUrl) {\n                return null;\n            }\n            var fileNames = cc.path.mainFileName(rawUrl).split(\"/\");\n            var uuid = fileNames[fileNames.length - 1];\n            return uuid;\n        };\n        WXFileSystem.prototype.itemExistsInCache = function (item, localPath) {\n            var uuid = this.getItemUuid(item);\n            if (!uuid) {\n                return false;\n            }\n            var rawUrl = item.rawUrl;\n            var extName = cc.path.extname(rawUrl);\n            if (!this._fsCachePathInfo[extName]) {\n                return false;\n            }\n            return this._fsCachePathInfo[extName][uuid] == localPath;\n        };\n        WXFileSystem.prototype.dirExists = function (dir) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!this._dirCache.getValue(dir)) return [3, 1];\n                            return [2, true];\n                        case 1: return [4, this.access(dir)];\n                        case 2: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.readFile = function (p, encoding, withRootDir) {\n            if (withRootDir === void 0) { withRootDir = true; }\n            return __awaiter(this, void 0, void 0, function () {\n                var path;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            path = p;\n                            if (withRootDir) {\n                                path = this._fsRoot + p;\n                            }\n                            return [4, new Promise(function (resolve) {\n                                    _this._fs.readFile({\n                                        filePath: path,\n                                        encoding: encoding,\n                                        success: function (res) {\n                                            resolve(res.data);\n                                        },\n                                        fail: function (res) {\n                                            console.error(res);\n                                            resolve(null);\n                                        },\n                                        complete: function (res) {\n                                        }\n                                    });\n                                })];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.writeFile = function (p, data, encoding, withRootDir) {\n            if (encoding === void 0) { encoding = \"utf8\"; }\n            if (withRootDir === void 0) { withRootDir = true; }\n            return __awaiter(this, void 0, void 0, function () {\n                var path;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            path = p;\n                            if (withRootDir) {\n                                path = this._fsRoot + p;\n                            }\n                            return [4, new Promise(function (resolve) {\n                                    _this._fs.writeFile({\n                                        filePath: path,\n                                        data: data,\n                                        encoding: encoding,\n                                        success: function (res) {\n                                            resolve(true);\n                                        },\n                                        fail: function (res) {\n                                            console.error(res);\n                                            resolve(false);\n                                        },\n                                        complete: function (res) {\n                                        }\n                                    });\n                                })];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.access = function (p, withRootDir) {\n            if (withRootDir === void 0) { withRootDir = true; }\n            return __awaiter(this, void 0, void 0, function () {\n                var path;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            path = p;\n                            if (withRootDir) {\n                                path = this._fsRoot + p;\n                            }\n                            return [4, new Promise(function (resolve) {\n                                    _this._fs.access({\n                                        path: path,\n                                        success: function (res) {\n                                            resolve(true);\n                                        },\n                                        fail: function (res) {\n                                            resolve(false);\n                                        },\n                                        complete: function (res) {\n                                        }\n                                    });\n                                })];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.unlink = function (p, withRootDir) {\n            if (withRootDir === void 0) { withRootDir = true; }\n            return __awaiter(this, void 0, void 0, function () {\n                var path;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            path = p;\n                            if (withRootDir) {\n                                path = this._fsRoot + p;\n                                console.log(\"unlink:--->path:\", path);\n                            }\n                            return [4, new Promise(function (resolve) {\n                                    _this._fs.unlink({\n                                        filePath: path,\n                                        success: function (res) {\n                                            console.log(\"====== unlink success: \", res);\n                                            resolve(true);\n                                        },\n                                        fail: function (res) {\n                                            console.log(\"====== unlink fail: \", res);\n                                            console.error(res);\n                                            resolve(false);\n                                        },\n                                        complete: function (res) {\n                                        }\n                                    });\n                                })];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.rmdir = function (dir) {\n            return __awaiter(this, void 0, void 0, function () {\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, new Promise(function (resolve) {\n                                _this._fs.rmdir({\n                                    dirPath: _this._fsRoot + dir,\n                                    recursive: true,\n                                    success: function () {\n                                        resolve(true);\n                                    },\n                                    fail: function (res) {\n                                        console.error(res.errMsg);\n                                        resolve(false);\n                                    },\n                                    complete: function () {\n                                    }\n                                });\n                            })];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.deleteCache = function (dir) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, this.rmdir(dir)];\n                        case 1:\n                            if (_a.sent()) {\n                                this._fsCachePathInfo = {};\n                                this._dirCache.clear();\n                                this._dirty = true;\n                            }\n                            return [2];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.unzip = function (p, t) {\n            return __awaiter(this, void 0, void 0, function () {\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            console.log(\"zipFilePath:\", this._fsRoot + p, \"---targetPath:\", this._fsRoot + t);\n                            return [4, new Promise(function (resolve) {\n                                    _this._fs.unzip({\n                                        zipFilePath: _this._fsRoot + p,\n                                        targetPath: _this._fsRoot + t,\n                                        success: function (res) {\n                                            resolve(true);\n                                        },\n                                        fail: function (res) {\n                                            console.error(res);\n                                            resolve(false);\n                                        },\n                                        complete: function (res) {\n                                        }\n                                    });\n                                })];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.dirname = function (dir) {\n            var arr = dir.split(\"/\");\n            arr.pop();\n            return arr.join(\"/\");\n        };\n        WXFileSystem.prototype.mkdir = function (p, withRootDir) {\n            if (withRootDir === void 0) { withRootDir = true; }\n            return __awaiter(this, void 0, void 0, function () {\n                var promise, path, ret;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            promise = this._mkdirPromise.getValue(p);\n                            if (!promise) return [3, 2];\n                            return [4, promise];\n                        case 1: return [2, _a.sent()];\n                        case 2:\n                            path = p;\n                            if (withRootDir) {\n                                path = this._fsRoot + p;\n                            }\n                            ret = new Promise(function (resolve) {\n                                _this._fs.mkdir({\n                                    dirPath: path,\n                                    success: function (res) {\n                                        _this._mkdirPromise.remove(p);\n                                        resolve(true);\n                                    },\n                                    fail: function (res) {\n                                        console.error(res);\n                                        _this._mkdirPromise.remove(p);\n                                        resolve(false);\n                                    },\n                                    complete: function (res) {\n                                    }\n                                });\n                            });\n                            this._mkdirPromise.setValue(p, ret);\n                            return [4, ret];\n                        case 3: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.mkdirs = function (p, withRootDir) {\n            if (withRootDir === void 0) { withRootDir = true; }\n            return __awaiter(this, void 0, void 0, function () {\n                var dirs, current, i, dir;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (p == \"\") {\n                                return [2];\n                            }\n                            return [4, this.dirExists(p)];\n                        case 1:\n                            if (!!(_a.sent())) return [3, 7];\n                            dirs = p.split(\"/\");\n                            current = \"\";\n                            i = 0;\n                            _a.label = 2;\n                        case 2:\n                            if (!(i < dirs.length)) return [3, 6];\n                            dir = dirs[i];\n                            current += dir + \"/\";\n                            return [4, this.dirExists(current)];\n                        case 3:\n                            if (!!(_a.sent())) return [3, 5];\n                            return [4, this.mkdir(current, withRootDir)];\n                        case 4:\n                            _a.sent();\n                            this._dirCache.setValue(current, true);\n                            _a.label = 5;\n                        case 5:\n                            ++i;\n                            return [3, 2];\n                        case 6: return [3, 8];\n                        case 7: return [2];\n                        case 8: return [2];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype._downloadFile = function (url, retryCnt, target, progressCb) {\n            return __awaiter(this, void 0, void 0, function () {\n                var p, ret;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            p = new Promise(function (resolve, reject) {\n                                var options = {\n                                    url: url,\n                                    success: function (v) {\n                                        if (v.statusCode >= 400) {\n                                            if (retryCnt <= 0) {\n                                                reject(\"\\u52A0\\u8F7D\\u5931\\u8D25\\uFF1A\" + url + \"[\" + v.statusCode + \"]\");\n                                            }\n                                            else {\n                                                resolve(null);\n                                            }\n                                        }\n                                        else {\n                                            resolve(v);\n                                        }\n                                    },\n                                    fail: function (e) {\n                                        console.log(\"_downloadFile fail: \", url, e);\n                                        if (retryCnt <= 0) {\n                                            var error = new Error(url);\n                                            reject(error);\n                                        }\n                                        else {\n                                            resolve(null);\n                                        }\n                                    },\n                                    complete: function (res) {\n                                    }\n                                };\n                                if (target && target != \"\") {\n                                    options[\"filePath\"] = _this._fsRoot + target;\n                                }\n                                if (Core.DeviceUtils.isQQPlay()) {\n                                    var task = qq.downloadFile(options);\n                                    if (progressCb) {\n                                        task.onProgressUpdate(function (res) {\n                                            progressCb(res);\n                                        });\n                                    }\n                                }\n                                else {\n                                    var task = wx.downloadFile(options);\n                                    if (progressCb) {\n                                        task.onProgressUpdate(function (res) {\n                                            progressCb(res);\n                                        });\n                                    }\n                                }\n                            });\n                            if (!(retryCnt <= 0)) return [3, 1];\n                            throw new Error(url);\n                        case 1: return [4, p];\n                        case 2:\n                            ret = _a.sent();\n                            if (!ret) return [3, 3];\n                            return [2, ret];\n                        case 3:\n                            console.debug(\"download\", url, \"fail, retry cnt\", retryCnt);\n                            return [4, this._downloadFile(url, retryCnt - 1, target, progressCb)];\n                        case 4: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.download = function (srcUrl, target, progressCb) {\n            return __awaiter(this, void 0, void 0, function () {\n                var _this = this;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, new Promise(function (resolve, reject) {\n                                _this._downloadFile(srcUrl, _this._downloadFailRetryCnt, target, progressCb).catch(function (error) {\n                                    reject(error);\n                                }).then(function (res) {\n                                    resolve(res);\n                                }, function (error) {\n                                    reject(error);\n                                });\n                            })];\n                        case 1: return [2, _a.sent()];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype._xhrLoad = function (xhrURL, type, isText) {\n            return __awaiter(this, void 0, void 0, function () {\n                var content;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, new Promise(function (resolve, reject) {\n                                var xhr = new XMLHttpRequest();\n                                if (type) {\n                                    xhr.responseType = type;\n                                }\n                                xhr.onload = function () {\n                                    if (xhr.status >= 400) {\n                                        var message = \"\\u52A0\\u8F7D\\u5931\\u8D25\\uFF1A\" + xhrURL;\n                                        console.error(message);\n                                        resolve(\"\");\n                                    }\n                                    else {\n                                        if (isText) {\n                                            resolve(xhr.responseText);\n                                        }\n                                        else {\n                                            resolve(xhr.response);\n                                        }\n                                    }\n                                };\n                                xhr.onerror = function () {\n                                    var error = new Error(xhrURL);\n                                    console.error(\"xhrLoad error: \", error);\n                                    resolve(\"\");\n                                };\n                                xhr.open(\"get\", xhrURL);\n                                xhr.send();\n                            })];\n                        case 1:\n                            content = _a.sent();\n                            return [2, content];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.xhrLoad = function (xhrURL, target, type, isText) {\n            return __awaiter(this, void 0, void 0, function () {\n                var retryCnt, content, dirname;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            retryCnt = this._downloadFailRetryCnt;\n                            _a.label = 1;\n                        case 1:\n                            if (!(retryCnt-- > 0)) return [3, 7];\n                            return [4, this._xhrLoad(xhrURL, type, isText)];\n                        case 2:\n                            content = _a.sent();\n                            if (!(content && content != \"\")) return [3, 6];\n                            if (!(target && target != \"\")) return [3, 5];\n                            dirname = this.dirname(target);\n                            return [4, this.mkdirs(dirname)];\n                        case 3:\n                            _a.sent();\n                            return [4, this.writeFile(target, content)];\n                        case 4:\n                            _a.sent();\n                            _a.label = 5;\n                        case 5: return [2, content];\n                        case 6:\n                            console.error(\"xhrLoad \", xhrURL, \"fail, retry \", retryCnt);\n                            return [3, 1];\n                        case 7: throw new Error(xhrURL);\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.loadRemoteImportZipFile = function (fileName, progressCb) {\n            return __awaiter(this, void 0, void 0, function () {\n                var url, res, finalRet, res2;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            url = HotUpdate.MiniGameHotUpdateMgr.inst.REMOTE_SERVER_ROOT + fileName;\n                            return [4, this.download(url, fileName, progressCb).then(function (res) {\n                                    return true;\n                                }, function (error) {\n                                    console.log(\"loadRemoteImportZipFile download error: \", error);\n                                    return false;\n                                }).catch(function (error) {\n                                    console.log(\"loadRemoteImportZipFile download exception: \", error);\n                                    return false;\n                                })];\n                        case 1:\n                            res = _a.sent();\n                            if (!res) return [3, 7];\n                            finalRet = false;\n                            return [4, this.deleteImportJsonCache()];\n                        case 2:\n                            res2 = _a.sent();\n                            if (!res2) return [3, 6];\n                            return [4, this.unzip(fileName, \"\")];\n                        case 3:\n                            if (!!(_a.sent())) return [3, 4];\n                            console.error(\"loadRemoteImportZipFile unzip \", fileName, \"fail\");\n                            return [3, 6];\n                        case 4: return [4, this.dirExists(\"res/import\")];\n                        case 5:\n                            finalRet = _a.sent();\n                            console.log(\"[loadRemoteImportZipFile:]finalRet:\", finalRet);\n                            _a.label = 6;\n                        case 6:\n                            this.unlink(fileName);\n                            return [2, finalRet];\n                        case 7: return [2, false];\n                    }\n                });\n            });\n        };\n        WXFileSystem.prototype.loadRemoteRawAssetsZipFile = function (fileName, progressCb) {\n            return __awaiter(this, void 0, void 0, function () {\n                var url, res, finalRet;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!this.isNewDownloader) {\n                                console.log(\"WXLoader loadRemoteZipFile not a new loader, skip...\");\n                                return [2, true];\n                            }\n                            url = \"\";\n                            return [4, this.download(url, fileName, progressCb).then(function (res) {\n                                    return true;\n                                }, function (error) {\n                                    console.log(\"loadRemoteRawAssetsZipFile download error: \", error);\n                                    return false;\n                                }).catch(function (error) {\n                                    console.log(\"loadRemoteRawAssetsZipFile download exception: \", error);\n                                    return false;\n                                })];\n                        case 1:\n                            res = _a.sent();\n                            if (!res) return [3, 6];\n                            finalRet = false;\n                            return [4, this.unzip(fileName, \"\")];\n                        case 2:\n                            if (!!(_a.sent())) return [3, 3];\n                            console.error(\"loadRemoteRawAssetsZipFile unzip \", fileName, \"fail\");\n                            return [3, 5];\n                        case 3: return [4, this.dirExists(\"res/raw-assets\")];\n                        case 4:\n                            finalRet = _a.sent();\n                            console.log(\"[loadRemoteRawAssetsZipFile:]finalRet:\", finalRet);\n                            _a.label = 5;\n                        case 5:\n                            this.unlink(fileName);\n                            return [2, finalRet];\n                        case 6: return [2, false];\n                    }\n                });\n            });\n        };\n        WXFileSystem._inst = null;\n        return WXFileSystem;\n    }());\n    WXGame.WXFileSystem = WXFileSystem;\n    var non_text_format = [\n        'js', 'png', 'jpg', 'bmp', 'jpeg', 'gif', 'ico', 'tiff', 'webp', 'image', 'pvr', 'etc', 'mp3', 'ogg', 'wav', 'm4a', 'font', 'eot', 'ttf', 'woff', 'svg', 'ttc'\n    ];\n    var binary_format = [\n        'bin'\n    ];\n    var REGEX = /^\\w+:\\/\\/.*/;\n    var CocosWXDownloader = (function () {\n        function CocosWXDownloader() {\n            this.id = \"CocosWXDownloader\";\n            this.async = true;\n            this.pipeline = null;\n            this.REMOTE_SERVER_ROOT = CocosWXDownloader.REMOTE_SERVER_ROOT;\n            this.SUBCONTEXT_ROOT = \"\";\n            console.log(\"server root: \", CocosWXDownloader.REMOTE_SERVER_ROOT);\n        }\n        Object.defineProperty(CocosWXDownloader, \"inst\", {\n            get: function () {\n                if (CocosWXDownloader._inst == null) {\n                    CocosWXDownloader._inst = new CocosWXDownloader();\n                }\n                return CocosWXDownloader._inst;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(CocosWXDownloader, \"REMOTE_SERVER_ROOT\", {\n            get: function () {\n                return HotUpdate.HOT_UPDATE_URL_ROOT;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        CocosWXDownloader.prototype.initHandlers = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var pipeBeforeDownloader;\n                return __generator(this, function (_a) {\n                    pipeBeforeDownloader = window.wxDownloader;\n                    cc.loader.insertPipeAfter(pipeBeforeDownloader, this);\n                    cc.loader.removePipe(pipeBeforeDownloader);\n                    return [2];\n                });\n            });\n        };\n        CocosWXDownloader.prototype.nextPipe = function (item, callback) {\n            var _this = this;\n            console.log(\"CocosWXDownloader nextPipe\", item);\n            var queue = cc.LoadingItems.getQueue(item);\n            queue.addListener(item.id, function (item) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!item.error) return [3, 2];\n                            return [4, WXFileSystem.inst.unlink(item.url, false)];\n                        case 1:\n                            _a.sent();\n                            _a.label = 2;\n                        case 2: return [2];\n                    }\n                });\n            }); }, null);\n            callback(null, null);\n        };\n        CocosWXDownloader.prototype.handle = function (item, callback) {\n            console.log(\"CocosWXDownloader handle \", item);\n            if (item.type === \"js\") {\n                callback(null, null);\n                return;\n            }\n            if (item.type === 'uuid') {\n                var result = cc.Pipeline.Downloader.PackDownloader.load(item, callback);\n                if (result !== undefined) {\n                    if (!!result) {\n                        return result;\n                    }\n                    else {\n                        return;\n                    }\n                }\n            }\n            var filePath = item.url;\n            var self = this;\n            WXFileSystem.inst.wxFs.access({\n                path: filePath,\n                success: function () {\n                    if (item.type && non_text_format.indexOf(item.type) !== -1) {\n                        self.nextPipe(item, callback);\n                    }\n                    else {\n                        self.readTextFile(item, callback);\n                    }\n                },\n                fail: function (res) {\n                    self.readFileFromLocal(item, callback);\n                },\n                complete: function (res) { }\n            });\n        };\n        CocosWXDownloader.prototype.readFileFromLocal = function (item, callback) {\n            var localPath = WXFileSystem.inst.fsRoot + item.url;\n            var fs = WXFileSystem.inst.wxFs;\n            var self = this;\n            function handleItem(item) {\n                item.url = localPath;\n                if (item.type && non_text_format.indexOf(item.type) !== -1) {\n                    self.nextPipe(item, callback);\n                }\n                else {\n                    self.readTextFile(item, callback);\n                }\n            }\n            fs.access({\n                path: localPath,\n                success: function () {\n                    WXFileSystem.inst.setFileLocalPath(item, localPath);\n                    handleItem(item);\n                },\n                fail: function (res) {\n                    if (!self.REMOTE_SERVER_ROOT) {\n                        callback(null, null);\n                        return;\n                    }\n                    self.downloadRemoteFile(item, callback);\n                },\n                complete: function (res) { }\n            });\n        };\n        CocosWXDownloader.prototype.ensureDirFor = function (path, callback) {\n            var ensureDir = cc.path.dirname(path);\n            if (ensureDir === \"wxfile://usr\" || ensureDir === \"http://usr\") {\n                callback();\n                return;\n            }\n            var self = this;\n            WXFileSystem.inst.wxFs.access({\n                path: ensureDir,\n                success: function (res) {\n                    callback(res);\n                },\n                fail: function (res) {\n                    self.ensureDirFor(ensureDir, function () {\n                        WXFileSystem.inst.wxFs.mkdir({\n                            dirPath: ensureDir,\n                            complete: function (res) {\n                                callback(res);\n                            },\n                        });\n                    });\n                },\n                complete: function (res) { }\n            });\n        };\n        CocosWXDownloader.prototype._downloadFile = function (url, callback) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, WXFileSystem.inst.download(url).then(function (res) {\n                                callback(true, res);\n                            }, function (error) {\n                                callback(false, error);\n                            })];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                    }\n                });\n            });\n        };\n        CocosWXDownloader.prototype.downloadRemoteFile = function (item, callback) {\n            var relatUrl = item.url;\n            if (REGEX.test(relatUrl)) {\n                callback(null, null);\n                return;\n            }\n            var remoteUrl = this.REMOTE_SERVER_ROOT + relatUrl;\n            item.url = remoteUrl;\n            var self = this;\n            var fs = WXFileSystem.inst.wxFs;\n            this._downloadFile(remoteUrl, function (success, res) {\n                if (success) {\n                    var temp = res.tempFilePath;\n                    var localPath = WXFileSystem.inst.fsRoot + relatUrl;\n                    var uuid_1 = WXFileSystem.inst.getItemUuid(item);\n                    if (WXGame.uncachedFileUuids.indexOf(uuid_1) < 0) {\n                        self.ensureDirFor(localPath, function () {\n                            console.log(\"CocosWXDownloader saving file to \", localPath);\n                            fs.saveFile({\n                                tempFilePath: res.tempFilePath,\n                                filePath: localPath,\n                                success: function (res) {\n                                    cc.log('save:' + localPath);\n                                    WXFileSystem.inst.setFileLocalPath(item, localPath);\n                                    console.log(\"CocosWXDownloader save file \", res.savedFilePath, \"success, uuid = \", uuid_1);\n                                    item.url = res.savedFilePath;\n                                    if (item.type && non_text_format.indexOf(item.type) !== -1) {\n                                        self.nextPipe(item, callback);\n                                    }\n                                    else {\n                                        self.readTextFile(item, callback);\n                                    }\n                                },\n                                fail: function (res) {\n                                    console.log(res && res.errMsg ? res.errMsg : \"save file failed: \" + remoteUrl);\n                                    console.log('It might be due to out of storage spaces, you can clean your storage spaces manually.');\n                                    item.url = temp;\n                                    if (item.type && non_text_format.indexOf(item.type) !== -1) {\n                                        self.nextPipe(item, callback);\n                                    }\n                                    else {\n                                        self.readTextFile(item, callback);\n                                    }\n                                },\n                                complete: function (res) { }\n                            });\n                        });\n                    }\n                    else {\n                        item.url = temp;\n                        if (item.type && non_text_format.indexOf(item.type) !== -1) {\n                            self.nextPipe(item, callback);\n                        }\n                        else {\n                            self.readTextFile(item, callback);\n                        }\n                    }\n                }\n                else {\n                    console.error(\"download file failed: \", remoteUrl, res);\n                    callback({\n                        status: 0,\n                        errorMessage: res && res.errMsg ? res.errMsg : \"Download file failed: \" + remoteUrl\n                    }, null);\n                }\n            });\n        };\n        CocosWXDownloader.prototype.readTextFile = function (item, callback) {\n            var url = item.url;\n            var encodingFormat = 'utf8';\n            for (var i = 0; i < binary_format.length; i++) {\n                if (url.endsWith(binary_format[i])) {\n                    encodingFormat = '';\n                    break;\n                }\n            }\n            var fs = WXFileSystem.inst.wxFs;\n            fs.readFile({\n                filePath: url,\n                encoding: encodingFormat,\n                success: function (res) {\n                    var queue = cc.LoadingItems.getQueue(item);\n                    queue.addListener(item.id, function (item) {\n                        if (item.error) {\n                            fs.unlink({\n                                filePath: url,\n                                success: function () {\n                                    cc.log(\"Load failed, removed local file \" + url + \" successfully!\");\n                                }\n                            });\n                        }\n                    }, null);\n                    if (res.data) {\n                        item.states[cc.loader.downloader.id] = cc.Pipeline.ItemState.COMPLETE;\n                        callback(null, res.data);\n                    }\n                    else {\n                        callback({\n                            status: 0,\n                            errorMessage: \"Empty file: \" + url\n                        });\n                    }\n                },\n                fail: function (res) {\n                    console.error(\"CocosWXDownloader read file failed: \", url);\n                    fs.unlink({\n                        filePath: url,\n                        success: function () {\n                            cc.log(\"Read file failed, removed local file \" + url + \" successfully!\");\n                        }\n                    });\n                    callback({\n                        status: 0,\n                        errorMessage: res && res.errMsg ? res.errMsg : \"Read text file failed: \" + url\n                    });\n                },\n                complete: function (res) {\n                }\n            });\n        };\n        CocosWXDownloader.initLoaders = function () {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!Core.DeviceUtils.isMiniGame()) return [3, 3];\n                            console.log(\"init wxloaders\");\n                            return [4, WXFileSystem.inst.initFilePathInfos()];\n                        case 1:\n                            _a.sent();\n                            return [4, CocosWXDownloader.inst.initHandlers()];\n                        case 2:\n                            _a.sent();\n                            _a.label = 3;\n                        case 3: return [2];\n                    }\n                });\n            });\n        };\n        CocosWXDownloader._inst = null;\n        return CocosWXDownloader;\n    }());\n    WXGame.CocosWXDownloader = CocosWXDownloader;\n})(WXGame || (WXGame = {}));\nvar WXGame;\n(function (WXGame) {\n    WXGame.uncachedFileUuids = [\n        \"f5cddcd5-16f9-40a0-b4b7-e570fb5405e1\",\n        \"b85ef599-1788-4b93-be92-84cd960615be\",\n        \"f3284e05-35a9-4533-b430-aa6a6897a98e\",\n        \"1a86d3bb-f215-4cf3-aef5-1b28982a0404\",\n        \"0259e012-2b83-4624-adaa-2eb9ac5b1e9e\",\n        \"4b48b426-772e-4006-82cd-47d2c4906b6b\",\n        \"72114a37-842d-4e2c-88cc-e58f05a7793a\",\n        \"c4d25164-21b7-4db1-a92d-ab05c3300402\",\n        \"74188206-5043-45a9-ac76-d74aa7e60683\",\n        \"931b6810-c010-43ba-a562-0e658bd63b92\",\n        \"75aef0c7-d552-4797-827c-adecc2768bfa\",\n        \"f6f8d12d-4581-487c-a830-1310a6725be0\",\n        \"f170dab1-a258-47c8-9280-5a3c2070f480\",\n        \"8e00fd5b-1cd1-41ed-85ca-353549f0d16d\",\n        \"f06747e3-f280-4306-9042-55f29f0e6925\",\n        \"4922313a-3209-4232-aa24-fcd78db67c76\",\n        \"1501854f-cf36-4232-97d1-9d5e23b99b8e\",\n        \"eb342b20-3921-4fcf-9854-4e6f879d944f\",\n        \"ba215ace-d4dd-4b77-9582-a4f93390aa44\",\n        \"44286999-642e-41b8-888a-fd8ff3dba61f\",\n        \"cbb9cf7e-bb7d-4058-b3d9-a60a53ecead8\",\n        \"d30fee19-fada-46b1-912a-c53fd20193ad\",\n        \"e97c2729-6f46-4230-9b29-62069e0826c7\",\n        \"8ffbe702-8441-4caa-a4b2-22fd902495e9\",\n        \"02c119a2-2ab9-413b-afc8-b760dc41248b\",\n        \"8c01c28a-bbc8-410a-a8fb-0e7ac4954372\",\n        \"5a9e4f32-1b9e-4a0a-86db-75dcc1430c06\",\n        \"f322d2be-1e82-4934-8ecd-138240c7fc74\",\n        \"38f56094-b76e-4ef9-b1f6-c77849978c4b\",\n        \"8e3aabb8-8449-449e-96e1-db16b8fbacb4\",\n        \"66dd8513-e40e-4183-9afb-db051394c75c\",\n        \"be55be10-45a6-4663-a120-e1dadec10094\",\n        \"251d5aac-e02e-4797-b467-7c2d8e18761c\",\n        \"9f5214cd-2e7d-456f-b30d-e1564a44f271\",\n        \"9ad3e28e-0668-4614-b8d8-567e10398a06\",\n        \"637f0e18-cf97-4d88-8a06-df740047cb36\",\n        \"a273a1db-a2ae-43f8-831f-31b3693dc073\",\n        \"0ca0e53d-ce1e-431e-b5d7-3f9be8c5b114\",\n        \"0fb9bc71-6337-4a7c-b684-ed215c4cc638\",\n        \"3d46d797-038c-436b-a210-33545c9b1175\",\n        \"5d3a97a2-8051-4486-b8b8-302c04e37454\",\n        \"b2d8ef02-d5ae-422b-8518-ababd3857128\",\n        \"1ed60ad8-a306-4b73-b24c-25075df68360\",\n        \"35171aba-d9ed-4e79-8a3d-857057f38320\",\n        \"76dde138-0584-45fc-956c-78f81f165861\",\n        \"aa14eb65-0fe8-4dde-bae4-e5201c3b4a03\",\n        \"f920f900-e5f0-4972-823f-23eb0ecb5c52\",\n        \"3ee8f7c1-152d-49e1-b348-826d09f1f56a\",\n        \"8187523e-7972-48f7-967f-8677f012915a\",\n        \"04d6e53e-3775-4637-98f0-35b1d19e53c1\",\n        \"21c0f5dd-1208-47c9-b9ac-0437e33f3864\",\n        \"85cc910e-2243-4dbe-b1d8-ef77f2822a4e\",\n        \"7325daaf-76a2-469e-b567-9867f6aa6eed\",\n        \"2bac10ce-b4ae-40fc-9e5b-b48e8be33a02\",\n        \"5c35e934-422a-4707-b85c-5a9683040545\",\n        \"ef4ca0e4-578e-46f6-a5c2-16c0e5a0b2cc\",\n        \"5141b652-afa2-4d66-826c-3294bf1c799e\",\n        \"43488edc-5cd4-42ee-b34c-5061e9498e5b\",\n        \"13951026-0673-437a-969f-11ec8b6b7b0c\",\n        \"ed20c50c-989c-4cdd-8f9d-d3579cb640dc\",\n        \"46789dac-1d1b-4de8-a773-82ada87afaed\",\n        \"b4ee3eb3-b213-4b9e-8fd9-95467d6c9bde\",\n        \"b77a314b-cd2f-4e50-8a3b-2df5992e6f93\",\n        \"63483971-8ea1-48ac-9137-e371795db272\",\n        \"d94a7809-e0c6-44c5-b43b-99ba699747c6\",\n        \"31af2c03-100e-47ad-af60-9d7dd9a3caf8\",\n        \"4bbbee02-ea0d-4ab2-909c-7ea8891d0162\",\n        \"6f3bfe22-2b9a-48a9-944a-5abbaf961086\",\n        \"e6a1922b-28f9-4c37-b730-c97bc976c038\",\n        \"59196346-b101-45c7-a8ba-ae3ee91d4a0e\",\n        \"eb8bbdaf-a718-439b-95a1-37e02aa74a94\",\n        \"37796d8a-cf6f-4292-a839-6ac0f71549a1\",\n        \"fd503771-3a66-4b21-b2ee-746331b5b838\",\n        \"f7190462-a77c-4e30-a1b1-35f78527e504\",\n        \"b9edb719-f797-42a8-8dc8-7e0901710116\",\n        \"7cc76b4d-e289-4f16-b857-017369f7fc01\",\n        \"5a7ab32d-7d03-4984-9416-568d9fcf738a\",\n        \"17dcd596-d8ad-4969-be29-dbb3e25b6ba9\",\n        \"0574241d-7e77-4435-9692-2af7e755ab6a\",\n        \"042ee552-542b-4881-8163-a8fc01aef8f0\",\n        \"2a1d4972-0d29-4aa8-bd2c-514a1f4d79a8\",\n        \"3a5eb2d7-68aa-4c44-98ab-142546cac075\",\n        \"63c5bbcf-8107-4777-8f7a-e946a5e4d7fb\",\n        \"828dbfe6-0bff-4f96-bab3-7a51fadece5d\",\n        \"261fc82b-2d4e-4494-af31-30199483f35a\",\n        \"eb4638ad-0182-417f-b712-84c2f46f663e\",\n        \"8cf0d6d8-d543-49db-a86a-e45aaf7cb9c7\",\n        \"8269a29f-e976-4bfe-b828-2f5a10a0a660\",\n        \"02b1fa98-c916-4a65-9841-b22d8997ca83\",\n        \"8fea02d1-0d2b-43c1-a5a3-15ede58be204\",\n        \"c49512b4-f6c1-47d4-bb5a-b1c7b18bb75a\",\n        \"dd9b4113-2ef9-4597-97ee-307e59599f31\",\n        \"962c1f5e-18fe-43a8-b272-7203630f7b1c\",\n        \"618602f4-1ea7-44cc-91a4-bef91cddd37c\",\n        \"0b774234-34f8-4d6e-b4fe-fc3e25f849e9\",\n        \"9d685a43-0fb9-444f-ad48-27a4ce754227\",\n        \"517458a8-c567-4c03-8a2b-2c6e877674da\",\n        \"af2c381c-4daf-4a48-9a75-4d12627477d5\",\n        \"bfcc5049-3a95-47b3-a5d7-51c9e6bd197f\",\n        \"35ca1ab0-49c4-40e3-aa63-1b0c877a7b68\",\n        \"6b945690-25a3-4c8a-af0b-59ef96b30328\",\n        \"a94a4ff6-41d0-4546-a67d-d471d124c63f\",\n        \"2f0d5271-0d0f-4034-bd2a-3e450cbcbbae\",\n        \"4957f4ea-3317-447c-9cd5-33b0a2a7793d\",\n        \"01f4ff60-28c1-485e-b414-6378fdb662d9\",\n        \"3f645d68-1453-49c3-b8e5-ef5af72acd46\",\n        \"3cd2d71e-b52b-4bbe-80f4-5eda3d3b4c23\",\n        \"b2ed3f9b-b602-4311-8eb9-848a9ad12f82\",\n        \"5d0e22ce-fbe3-46b2-b804-4e24146c339e\",\n        \"5bd10736-42c4-47ad-a1a8-056d3edcb733\",\n        \"00c62067-2412-40f0-9713-e858cdea1e1c\",\n        \"3aff25ff-8072-44cd-8261-ead057143dbc\",\n        \"28e27ff4-5599-41f8-aa77-1795c2178936\",\n        \"11dd2025-ffa9-4d1d-91a4-27d897c72d89\",\n        \"e01b441e-4374-41b2-ac70-e50a5693b0ad\",\n        \"7fe85859-e923-4897-9076-13fb368807c4\",\n        \"c78e9001-808d-4f33-b3de-6d86bbe2fde4\",\n        \"376e7ec0-ac47-471d-95b3-3ab5cf75194e\",\n        \"860cd3eb-d711-4c32-98a8-b6581acabb66\",\n        \"0a0cb3b6-156f-464c-9933-07bc8d273681\",\n        \"c8a7fb6f-9ffe-4d47-9da5-663e17b6b996\",\n        \"10cec23d-716e-4e99-a42a-9e5d5b566523\",\n        \"3f062842-c860-4012-b7d3-82ebed7670bf\",\n        \"4d48ffe8-1fc2-44d1-b7f1-ec3178954f3d\",\n        \"cb8a0af1-e16b-428f-81d8-49dab0f32f7b\",\n        \"faf42046-7047-4328-97bd-02460bb0d550\",\n        \"8886553b-3043-468c-8927-1fdda8350d61\",\n        \"eaf877e9-6624-4e84-abb5-c46571f80c1d\",\n        \"b742403d-844d-4a78-ba73-eb0212fcd3d4\",\n        \"62dd4fb5-4562-4d4f-9137-6cceade4c7a0\",\n    ];\n})(WXGame || (WXGame = {}));\n"]}